{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\mdvec\\\\OneDrive\\\\Documents\\\\YOOBEE-MSE\\\\TERM2\\\\MSE806 Intelligent Transportation Systems\\\\ATIS\\\\ATIS\\\\atis-frontend-react\\\\src\\\\App.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport { useEffect, useRef, useState } from 'react';\nimport { registerSW } from './sw-register';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API = 'http://localhost:8000';\nfunction Chip({\n  children\n}) {\n  return /*#__PURE__*/_jsxDEV(\"span\", {\n    className: \"chip\",\n    style: {\n      marginRight: 6\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 6,\n    columnNumber: 35\n  }, this);\n}\n_c = Chip;\nfunction LabelRow({\n  label,\n  children\n}) {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: 'grid',\n      gridTemplateColumns: '160px 1fr',\n      alignItems: 'center',\n      gap: 8,\n      margin: '8px 0'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        opacity: .8\n      },\n      children: label\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 9,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 9,\n      columnNumber: 44\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 8,\n    columnNumber: 11\n  }, this);\n}\n_c2 = LabelRow;\nfunction MapView({\n  origin,\n  stops,\n  dest,\n  onMoveOrigin\n}) {\n  _s();\n  const mapRef = useRef(null),\n    originMarker = useRef(null),\n    destMarker = useRef(null);\n  useEffect(() => {\n    if (!mapRef.current) {\n      // eslint-disable-next-line no-undef\n      const map = L.map('map').setView(origin, 14);\n      // eslint-disable-next-line no-undef\n      L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\n        maxZoom: 19\n      }).addTo(map);\n      // eslint-disable-next-line no-undef\n      originMarker.current = L.marker(origin, {\n        draggable: true\n      }).addTo(map).bindPopup('Origin');\n      originMarker.current.on('moveend', e => {\n        const {\n          lat,\n          lng\n        } = e.target.getLatLng();\n        onMoveOrigin([lat, lng]);\n      });\n      // eslint-disable-next-line no-undef\n      destMarker.current = L.marker(dest).addTo(map).bindPopup('Destination');\n      mapRef.current = map;\n    } else {\n      mapRef.current.setView(origin, 14);\n      originMarker.current.setLatLng(origin);\n      destMarker.current.setLatLng(dest);\n    }\n  }, [origin, dest]);\n  useEffect(() => {\n    if (!mapRef.current) return;\n    if (mapRef.current._stopsLayer) {\n      mapRef.current.removeLayer(mapRef.current._stopsLayer);\n    }\n    // eslint-disable-next-line no-undef\n    const group = L.layerGroup();\n    stops.forEach(s => {\n      // eslint-disable-next-line no-undef\n      L.circleMarker([s.lat, s.lng], {\n        radius: 5\n      }).bindTooltip(s.name).addTo(group);\n    });\n    group.addTo(mapRef.current);\n    mapRef.current._stopsLayer = group;\n  }, [stops]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"map\",\n    className: \"card\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 10\n  }, this);\n}\n_s(MapView, \"mHEfenFbsLMGzu2CEHS7HV/l0Tc=\");\n_c3 = MapView;\nexport default function App() {\n  _s2();\n  useEffect(() => registerSW(), []);\n  const [origin, setOrigin] = useState([-36.8485, 174.7633]);\n  const [dest, setDest] = useState([-36.8443, 174.7676]);\n  const [stops, setStops] = useState([]);\n  const [itins, setItins] = useState([]);\n  const [banner, setBanner] = useState('');\n  const [selectedStop, setSelectedStop] = useState(null);\n  const [departures, setDepartures] = useState([]);\n  const [alerts, setAlerts] = useState([]);\n\n  // traveler options\n  const [modes, setModes] = useState(['bus', 'train', 'walk']);\n  const [optimize, setOptimize] = useState('fastest');\n  const [maxWalkKm, setMaxWalkKm] = useState(1.2);\n  const [avoidStairs, setAvoidStairs] = useState(false);\n  const [bikeOk, setBikeOk] = useState(false);\n  const [whenType, setWhenType] = useState('depart');\n  const [whenValue, setWhenValue] = useState('now');\n\n  // language + currency + simple converter\n  const [lang, setLang] = useState('en');\n  const [currency, setCurrency] = useState('NZD');\n  const [nzd, setNzd] = useState(100);\n  const rates = {\n    NZD: 1,\n    USD: 0.60,\n    EUR: 0.55,\n    PHP: 34.0\n  }; // static demo rates\n  const converted = (nzd * (rates[currency] || 1)).toFixed(2);\n\n  // saved places\n  useEffect(() => {\n    const saved = JSON.parse(localStorage.getItem('atisSavedPlaces') || '{}');\n    if (saved.home) setOrigin(saved.home);\n    if (saved.work) setDest(saved.work);\n  }, []);\n  const savePlace = (key, coords) => {\n    const saved = JSON.parse(localStorage.getItem('atisSavedPlaces') || '{}');\n    saved[key] = coords;\n    localStorage.setItem('atisSavedPlaces', JSON.stringify(saved));\n    alert(`Saved ${key} location!`);\n  };\n\n  // fetch nearby stops & alerts\n  useEffect(() => {\n    fetch(`${API}/stops/nearby?lat=${origin[0]}&lng=${origin[1]}&radius=900`).then(r => r.json()).then(d => setStops(d.stops || []));\n    fetch(`${API}/alerts`).then(r => r.json()).then(d => setAlerts([...(d.alerts || []), ...(d.traffic || [])]));\n  }, [origin]);\n  const viewDepartures = async stop => {\n    setSelectedStop(stop);\n    const r = await fetch(`${API}/departures?stop_id=${stop.stop_id}`);\n    const data = await r.json();\n    setDepartures(data.departures || []);\n  };\n  const plan = async () => {\n    var _data$context;\n    const payload = {\n      origin,\n      destination: dest,\n      depart_at: whenType === 'depart' ? whenValue : 'now',\n      arrive_by: whenType === 'arrive' ? whenValue : null,\n      optimize,\n      max_walk_km: parseFloat(maxWalkKm),\n      avoid_stairs: avoidStairs,\n      bike_ok: bikeOk,\n      modes\n    };\n    const r = await fetch(`${API}/plan`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(payload)\n    });\n    const data = await r.json();\n    setItins(data.itineraries || []);\n    setBanner(((_data$context = data.context) === null || _data$context === void 0 ? void 0 : _data$context.weatherAlert) || '');\n  };\n  const exportPdf = async itinerary => {\n    const r = await fetch(`${API}/export/itinerary`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        origin,\n        destination: dest,\n        itinerary\n      })\n    });\n    const blob = await r.blob();\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = 'atis_trip.pdf';\n    a.click();\n    URL.revokeObjectURL(url);\n  };\n\n  // safety contacts\n  const [contacts, setContacts] = useState([]);\n  useEffect(() => {\n    fetch(`${API}/safety/contacts`).then(r => r.json()).then(d => setContacts(d.contacts || []));\n  }, []);\n\n  // reviews\n  const [reviews, setReviews] = useState([]);\n  const [reviewLoc, setReviewLoc] = useState('');\n  const [reviewRating, setReviewRating] = useState(5);\n  const [reviewComment, setReviewComment] = useState('');\n  const loadReviews = () => fetch(`${API}/reviews`).then(r => r.json()).then(d => setReviews(d.reviews || []));\n  useEffect(loadReviews, []);\n  const submitReview = async () => {\n    await fetch(`${API}/reviews`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        location: reviewLoc,\n        rating: Number(reviewRating),\n        comment: reviewComment\n      })\n    });\n    setReviewLoc('');\n    setReviewRating(5);\n    setReviewComment('');\n    loadReviews();\n  };\n\n  // prefs save to backend (language, currency, saved places)\n  const savePrefs = async () => {\n    await fetch(`${API}/prefs`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        lang,\n        currency,\n        home: origin,\n        work: dest\n      })\n    });\n    alert('Preferences saved');\n  };\n  const toggleMode = m => setModes(prev => prev.includes(m) ? prev.filter(x => x !== m) : [...prev, m]);\n  const swapOD = () => {\n    const o = origin;\n    setOrigin(dest);\n    setDest(o);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          style: {\n            margin: '0 0 4px'\n          },\n          children: \"ATIS\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            color: 'var(--muted)'\n          },\n          children: \"Real-time travel, trip planning, safety & more.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn\",\n          onClick: () => savePlace('home', origin),\n          children: \"Save Home\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn\",\n          style: {\n            marginLeft: 8\n          },\n          onClick: () => savePlace('work', dest),\n          children: \"Save Work\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn\",\n          style: {\n            marginLeft: 8\n          },\n          onClick: savePrefs,\n          children: \"Save Preferences\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          style: {\n            marginTop: 0\n          },\n          children: \"Options\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(LabelRow, {\n          label: \"Origin\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            value: origin.join(','),\n            onChange: e => setOrigin(e.target.value.split(',').map(Number)),\n            style: {\n              width: '100%'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginTop: 6,\n              textAlign: 'right'\n            },\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn\",\n              onClick: () => setOrigin(dest),\n              children: \"Use destination\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 185,\n              columnNumber: 59\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(LabelRow, {\n          label: \"Destination\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            value: dest.join(','),\n            onChange: e => setDest(e.target.value.split(',').map(Number)),\n            style: {\n              width: '100%'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginTop: 6,\n              textAlign: 'right'\n            },\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn\",\n              onClick: () => setDest(origin),\n              children: \"Use origin\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 190,\n              columnNumber: 59\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            textAlign: 'right',\n            marginBottom: 8\n          },\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn\",\n            onClick: swapOD,\n            children: \"Swap Origin/Destination\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(LabelRow, {\n          label: \"Modes\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            children: ['bus', 'train', 'ferry', 'walk', 'bike'].map(m => /*#__PURE__*/_jsxDEV(\"label\", {\n              style: {\n                marginRight: 10\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"checkbox\",\n                checked: modes.includes(m),\n                onChange: () => toggleMode(m)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 201,\n                columnNumber: 19\n              }, this), \" \", m]\n            }, m, true, {\n              fileName: _jsxFileName,\n              lineNumber: 200,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(LabelRow, {\n          label: \"Optimize for\",\n          children: /*#__PURE__*/_jsxDEV(\"select\", {\n            value: optimize,\n            onChange: e => setOptimize(e.target.value),\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"fastest\",\n              children: \"Fastest\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 209,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"fewest_transfers\",\n              children: \"Fewest transfers\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 210,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"least_walking\",\n              children: \"Least walking\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 211,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"reliable\",\n              children: \"Most reliable\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 212,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(LabelRow, {\n          label: \"Max walk (km)\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"range\",\n            min: \"0\",\n            max: \"3\",\n            step: \"0.1\",\n            value: maxWalkKm,\n            onChange: e => setMaxWalkKm(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 217,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              marginLeft: 8\n            },\n            children: parseFloat(maxWalkKm).toFixed(1)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(LabelRow, {\n          label: \"Accessibility\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            style: {\n              marginRight: 12\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"checkbox\",\n              checked: avoidStairs,\n              onChange: e => setAvoidStairs(e.target.checked)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 222,\n              columnNumber: 45\n            }, this), \" Avoid stairs\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 222,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"checkbox\",\n              checked: bikeOk,\n              onChange: e => setBikeOk(e.target.checked)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 223,\n              columnNumber: 20\n            }, this), \" Bike OK\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 223,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(LabelRow, {\n          label: \"When\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              style: {\n                marginRight: 10\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"radio\",\n                name: \"when\",\n                value: \"depart\",\n                checked: whenType === 'depart',\n                onChange: () => setWhenType('depart')\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 228,\n                columnNumber: 47\n              }, this), \" Depart at\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 228,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"radio\",\n                name: \"when\",\n                value: \"arrive\",\n                checked: whenType === 'arrive',\n                onChange: () => setWhenType('arrive')\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 229,\n                columnNumber: 22\n              }, this), \" Arrive by\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 229,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                marginTop: 6\n              },\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                placeholder: \"now or 2025-11-03T09:00\",\n                value: whenValue,\n                onChange: e => setWhenValue(e.target.value),\n                style: {\n                  width: '100%'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 230,\n                columnNumber: 42\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 230,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            textAlign: 'right'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-primary\",\n            onClick: plan,\n            children: \"Find itineraries\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 235,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'grid',\n          gridTemplateRows: 'auto auto 1fr',\n          gap: 16\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            id: \"map\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 241,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 11\n        }, this), banner && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card\",\n          children: banner\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 22\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            style: {\n              marginTop: 0\n            },\n            children: \"Itineraries\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 247,\n            columnNumber: 13\n          }, this), itins.length === 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              opacity: .8\n            },\n            children: [\"Press \", /*#__PURE__*/_jsxDEV(\"b\", {\n              children: \"Find itineraries\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 248,\n              columnNumber: 66\n            }, this), \" to see options.\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 36\n          }, this), /*#__PURE__*/_jsxDEV(\"ol\", {\n            children: itins.map(it => {\n              var _it$walk_km;\n              return /*#__PURE__*/_jsxDEV(\"li\", {\n                style: {\n                  margin: '10px 0',\n                  padding: '8px 0',\n                  borderTop: '1px solid var(--line)'\n                },\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    display: 'flex',\n                    justifyContent: 'space-between',\n                    alignItems: 'center'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                        children: [\"~\", it.durationMin, \" min\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 254,\n                        columnNumber: 28\n                      }, this), \" \\u2022 \", it.transfers, \" transfers \\u2022 \", /*#__PURE__*/_jsxDEV(\"span\", {\n                        title: \"Reliability score\",\n                        children: [Math.round((it.reliability || 0) * 100), \"%\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 254,\n                        columnNumber: 96\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 254,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      style: {\n                        opacity: .8\n                      },\n                      children: [\"legs: \", it.legs.join(' → ')]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 255,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      style: {\n                        marginTop: 6\n                      },\n                      children: [/*#__PURE__*/_jsxDEV(Chip, {\n                        children: [((_it$walk_km = it.walk_km) !== null && _it$walk_km !== void 0 ? _it$walk_km : 0).toFixed(1), \" km walk\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 256,\n                        columnNumber: 50\n                      }, this), /*#__PURE__*/_jsxDEV(Chip, {\n                        children: (it.modes || []).join(', ')\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 256,\n                        columnNumber: 101\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 256,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 253,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: /*#__PURE__*/_jsxDEV(\"button\", {\n                      className: \"btn\",\n                      onClick: () => exportPdf(it),\n                      children: \"Export PDF\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 259,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 258,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 252,\n                  columnNumber: 19\n                }, this)\n              }, it.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 251,\n                columnNumber: 17\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 249,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid\",\n      style: {\n        marginTop: 16\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          style: {\n            marginTop: 0\n          },\n          children: \"Alerts & Safety\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: alerts.map((a, i) => /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: a.type || a.id\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 273,\n              columnNumber: 45\n            }, this), \": \", a.title || a.summary, \" \", a.severity ? `• ${a.severity}` : '']\n          }, i, true, {\n            fileName: _jsxFileName,\n            lineNumber: 273,\n            columnNumber: 33\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 272,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"Emergency Contacts\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: contacts.map((c, i) => /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: c.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 276,\n              columnNumber: 49\n            }, this), \" \\u2014 \", c.phone]\n          }, i, true, {\n            fileName: _jsxFileName,\n            lineNumber: 276,\n            columnNumber: 37\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 276,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          style: {\n            marginTop: 0\n          },\n          children: \"Reviews\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'grid',\n            gridTemplateColumns: '1fr 120px 1fr auto',\n            gap: 8\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            placeholder: \"Location\",\n            value: reviewLoc,\n            onChange: e => setReviewLoc(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 282,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            min: \"1\",\n            max: \"5\",\n            value: reviewRating,\n            onChange: e => setReviewRating(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 283,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            placeholder: \"Comment\",\n            value: reviewComment,\n            onChange: e => setReviewComment(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 284,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn\",\n            onClick: submitReview,\n            children: \"Post\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 285,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          style: {\n            marginTop: 8\n          },\n          children: reviews.map((r, i) => /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: r.location\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 288,\n              columnNumber: 46\n            }, this), \" \\u2014 \", r.rating, \"/5 \\u2014 \", r.comment]\n          }, i, true, {\n            fileName: _jsxFileName,\n            lineNumber: 288,\n            columnNumber: 34\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 279,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          style: {\n            marginTop: 0\n          },\n          children: \"Travel Tools\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 293,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'grid',\n            gridTemplateColumns: '1fr 1fr',\n            gap: 8\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                opacity: .8,\n                marginBottom: 6\n              },\n              children: \"Language\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 296,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: lang,\n              onChange: e => setLang(e.target.value),\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"en\",\n                children: \"English\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 298,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"tl\",\n                children: \"Tagalog\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 299,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"zh\",\n                children: \"\\u4E2D\\u6587\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 300,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 297,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 295,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                opacity: .8,\n                marginBottom: 6\n              },\n              children: \"Currency\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 304,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: currency,\n              onChange: e => setCurrency(e.target.value),\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"NZD\",\n                children: \"NZD\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 306,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"USD\",\n                children: \"USD\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 307,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"EUR\",\n                children: \"EUR\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 308,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"PHP\",\n                children: \"PHP\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 309,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 305,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 303,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 294,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: 8\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              opacity: .8,\n              marginBottom: 6\n            },\n            children: \"Currency Converter (demo rates)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 314,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'grid',\n              gridTemplateColumns: '1fr auto 1fr',\n              gap: 8\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              value: nzd,\n              onChange: e => setNzd(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 316,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                alignSelf: 'center'\n              },\n              children: [\"NZD \\u2192 \", currency]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 317,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              value: converted,\n              readOnly: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 318,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 315,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 313,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 292,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 269,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 166,\n    columnNumber: 5\n  }, this);\n}\n_s2(App, \"xal19/p2cdYftyJuRBnZAcJT66I=\");\n_c4 = App;\nvar _c, _c2, _c3, _c4;\n$RefreshReg$(_c, \"Chip\");\n$RefreshReg$(_c2, \"LabelRow\");\n$RefreshReg$(_c3, \"MapView\");\n$RefreshReg$(_c4, \"App\");","map":{"version":3,"names":["useEffect","useRef","useState","registerSW","jsxDEV","_jsxDEV","API","Chip","children","className","style","marginRight","fileName","_jsxFileName","lineNumber","columnNumber","_c","LabelRow","label","display","gridTemplateColumns","alignItems","gap","margin","opacity","_c2","MapView","origin","stops","dest","onMoveOrigin","_s","mapRef","originMarker","destMarker","current","map","L","setView","tileLayer","maxZoom","addTo","marker","draggable","bindPopup","on","e","lat","lng","target","getLatLng","setLatLng","_stopsLayer","removeLayer","group","layerGroup","forEach","s","circleMarker","radius","bindTooltip","name","id","_c3","App","_s2","setOrigin","setDest","setStops","itins","setItins","banner","setBanner","selectedStop","setSelectedStop","departures","setDepartures","alerts","setAlerts","modes","setModes","optimize","setOptimize","maxWalkKm","setMaxWalkKm","avoidStairs","setAvoidStairs","bikeOk","setBikeOk","whenType","setWhenType","whenValue","setWhenValue","lang","setLang","currency","setCurrency","nzd","setNzd","rates","NZD","USD","EUR","PHP","converted","toFixed","saved","JSON","parse","localStorage","getItem","home","work","savePlace","key","coords","setItem","stringify","alert","fetch","then","r","json","d","traffic","viewDepartures","stop","stop_id","data","plan","_data$context","payload","destination","depart_at","arrive_by","max_walk_km","parseFloat","avoid_stairs","bike_ok","method","headers","body","itineraries","context","weatherAlert","exportPdf","itinerary","blob","url","URL","createObjectURL","a","document","createElement","href","download","click","revokeObjectURL","contacts","setContacts","reviews","setReviews","reviewLoc","setReviewLoc","reviewRating","setReviewRating","reviewComment","setReviewComment","loadReviews","submitReview","location","rating","Number","comment","savePrefs","toggleMode","m","prev","includes","filter","x","swapOD","o","color","onClick","marginLeft","marginTop","value","join","onChange","split","width","textAlign","marginBottom","type","checked","min","max","step","placeholder","gridTemplateRows","length","it","_it$walk_km","padding","borderTop","justifyContent","durationMin","transfers","title","Math","round","reliability","legs","walk_km","i","summary","severity","c","phone","alignSelf","readOnly","_c4","$RefreshReg$"],"sources":["C:/Users/mdvec/OneDrive/Documents/YOOBEE-MSE/TERM2/MSE806 Intelligent Transportation Systems/ATIS/ATIS/atis-frontend-react/src/App.js"],"sourcesContent":["import { useEffect, useRef, useState } from 'react'\nimport { registerSW } from './sw-register'\n\nconst API = 'http://localhost:8000'\n\nfunction Chip({children}){ return <span className=\"chip\" style={{marginRight:6}}>{children}</span> }\nfunction LabelRow({label, children}){\n  return (<div style={{display:'grid', gridTemplateColumns:'160px 1fr', alignItems:'center', gap:8, margin:'8px 0'}}>\n    <div style={{opacity:.8}}>{label}</div><div>{children}</div></div>)\n}\n\nfunction MapView({origin, stops, dest, onMoveOrigin}){\n  const mapRef = useRef(null), originMarker = useRef(null), destMarker = useRef(null)\n\n  useEffect(() => {\n    if (!mapRef.current){\n      // eslint-disable-next-line no-undef\n      const map = L.map('map').setView(origin, 14)\n      // eslint-disable-next-line no-undef\n      L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {maxZoom: 19}).addTo(map)\n      // eslint-disable-next-line no-undef\n      originMarker.current = L.marker(origin, {draggable:true}).addTo(map).bindPopup('Origin')\n      originMarker.current.on('moveend', e => {\n        const {lat, lng} = e.target.getLatLng()\n        onMoveOrigin([lat, lng])\n      })\n      // eslint-disable-next-line no-undef\n      destMarker.current = L.marker(dest).addTo(map).bindPopup('Destination')\n      mapRef.current = map\n    } else {\n      mapRef.current.setView(origin, 14)\n      originMarker.current.setLatLng(origin)\n      destMarker.current.setLatLng(dest)\n    }\n  }, [origin, dest])\n\n  useEffect(() => {\n    if (!mapRef.current) return\n    if (mapRef.current._stopsLayer){ mapRef.current.removeLayer(mapRef.current._stopsLayer) }\n    // eslint-disable-next-line no-undef\n    const group = L.layerGroup()\n    stops.forEach(s => {\n      // eslint-disable-next-line no-undef\n      L.circleMarker([s.lat, s.lng], {radius:5}).bindTooltip(s.name).addTo(group)\n    })\n    group.addTo(mapRef.current)\n    mapRef.current._stopsLayer = group\n  }, [stops])\n\n  return <div id=\"map\" className=\"card\"></div>\n}\n\nexport default function App(){\n  useEffect(() => registerSW(), [])\n\n  const [origin, setOrigin] = useState([-36.8485, 174.7633])\n  const [dest, setDest] = useState([-36.8443, 174.7676])\n  const [stops, setStops] = useState([])\n  const [itins, setItins] = useState([])\n  const [banner, setBanner] = useState('')\n  const [selectedStop, setSelectedStop] = useState(null)\n  const [departures, setDepartures] = useState([])\n  const [alerts, setAlerts] = useState([])\n\n  // traveler options\n  const [modes, setModes] = useState(['bus','train','walk'])\n  const [optimize, setOptimize] = useState('fastest')\n  const [maxWalkKm, setMaxWalkKm] = useState(1.2)\n  const [avoidStairs, setAvoidStairs] = useState(false)\n  const [bikeOk, setBikeOk] = useState(false)\n  const [whenType, setWhenType] = useState('depart')\n  const [whenValue, setWhenValue] = useState('now')\n\n  // language + currency + simple converter\n  const [lang, setLang] = useState('en')\n  const [currency, setCurrency] = useState('NZD')\n  const [nzd, setNzd] = useState(100)\n  const rates = { NZD: 1, USD: 0.60, EUR: 0.55, PHP: 34.0 } // static demo rates\n  const converted = (nzd * (rates[currency]||1)).toFixed(2)\n\n  // saved places\n  useEffect(() => {\n    const saved = JSON.parse(localStorage.getItem('atisSavedPlaces') || '{}')\n    if (saved.home) setOrigin(saved.home)\n    if (saved.work) setDest(saved.work)\n  }, [])\n\n  const savePlace = (key, coords) => {\n    const saved = JSON.parse(localStorage.getItem('atisSavedPlaces') || '{}')\n    saved[key] = coords\n    localStorage.setItem('atisSavedPlaces', JSON.stringify(saved))\n    alert(`Saved ${key} location!`)\n  }\n\n  // fetch nearby stops & alerts\n  useEffect(() => {\n    fetch(`${API}/stops/nearby?lat=${origin[0]}&lng=${origin[1]}&radius=900`)\n      .then(r => r.json()).then(d => setStops(d.stops || []))\n    fetch(`${API}/alerts`).then(r=>r.json()).then(d=> setAlerts([...(d.alerts||[]), ...(d.traffic||[])]))\n  }, [origin])\n\n  const viewDepartures = async (stop) => {\n    setSelectedStop(stop)\n    const r = await fetch(`${API}/departures?stop_id=${stop.stop_id}`)\n    const data = await r.json()\n    setDepartures(data.departures || [])\n  }\n\n  const plan = async () => {\n    const payload = {\n      origin, destination: dest,\n      depart_at: whenType === 'depart' ? whenValue : 'now',\n      arrive_by: whenType === 'arrive' ? whenValue : null,\n      optimize, max_walk_km: parseFloat(maxWalkKm),\n      avoid_stairs: avoidStairs, bike_ok: bikeOk, modes,\n    }\n    const r = await fetch(`${API}/plan`, {\n      method: 'POST', headers: {'Content-Type':'application/json'},\n      body: JSON.stringify(payload)\n    })\n    const data = await r.json()\n    setItins(data.itineraries || [])\n    setBanner(data.context?.weatherAlert || '')\n  }\n\n  const exportPdf = async (itinerary) => {\n    const r = await fetch(`${API}/export/itinerary`,{\n      method:'POST', headers:{'Content-Type':'application/json'},\n      body: JSON.stringify({ origin, destination: dest, itinerary })\n    })\n    const blob = await r.blob()\n    const url = URL.createObjectURL(blob)\n    const a = document.createElement('a')\n    a.href = url; a.download = 'atis_trip.pdf'; a.click()\n    URL.revokeObjectURL(url)\n  }\n\n  // safety contacts\n  const [contacts, setContacts] = useState([])\n  useEffect(()=>{ fetch(`${API}/safety/contacts`).then(r=>r.json()).then(d=>setContacts(d.contacts||[])) }, [])\n\n  // reviews\n  const [reviews, setReviews] = useState([])\n  const [reviewLoc, setReviewLoc] = useState('')\n  const [reviewRating, setReviewRating] = useState(5)\n  const [reviewComment, setReviewComment] = useState('')\n  const loadReviews = ()=> fetch(`${API}/reviews`).then(r=>r.json()).then(d=>setReviews(d.reviews||[]))\n  useEffect(loadReviews, [])\n  const submitReview = async ()=>{\n    await fetch(`${API}/reviews`, {method:'POST', headers:{'Content-Type':'application/json'},\n      body: JSON.stringify({ location: reviewLoc, rating: Number(reviewRating), comment: reviewComment }) })\n    setReviewLoc(''); setReviewRating(5); setReviewComment(''); loadReviews()\n  }\n\n  // prefs save to backend (language, currency, saved places)\n  const savePrefs = async ()=>{\n    await fetch(`${API}/prefs`, {method:'POST', headers:{'Content-Type':'application/json'},\n      body: JSON.stringify({ lang, currency, home: origin, work: dest })})\n    alert('Preferences saved')\n  }\n\n  const toggleMode = (m) => setModes(prev => prev.includes(m) ? prev.filter(x => x!==m) : [...prev, m])\n  const swapOD = () => { const o = origin; setOrigin(dest); setDest(o) }\n\n  return (\n    <div className=\"container\">\n      <header>\n        <div>\n          <h1 style={{margin:'0 0 4px'}}>ATIS</h1>\n          <div style={{color:'var(--muted)'}}>Real-time travel, trip planning, safety & more.</div>\n        </div>\n        <div>\n          <button className=\"btn\" onClick={()=>savePlace('home', origin)}>Save Home</button>\n          <button className=\"btn\" style={{marginLeft:8}} onClick={()=>savePlace('work', dest)}>Save Work</button>\n          <button className=\"btn\" style={{marginLeft:8}} onClick={savePrefs}>Save Preferences</button>\n        </div>\n      </header>\n\n      <div className=\"grid\">\n        <div className=\"card\">\n          <h3 style={{marginTop:0}}>Options</h3>\n\n          <LabelRow label=\"Origin\">\n            <input value={origin.join(',')} onChange={e => setOrigin(e.target.value.split(',').map(Number))} style={{width:'100%'}}/>\n            <div style={{marginTop:6, textAlign:'right'}}><button className=\"btn\" onClick={()=>setOrigin(dest)}>Use destination</button></div>\n          </LabelRow>\n\n          <LabelRow label=\"Destination\">\n            <input value={dest.join(',')} onChange={e => setDest(e.target.value.split(',').map(Number))} style={{width:'100%'}}/>\n            <div style={{marginTop:6, textAlign:'right'}}><button className=\"btn\" onClick={()=>setDest(origin)}>Use origin</button></div>\n          </LabelRow>\n\n          <div style={{textAlign:'right', marginBottom:8}}>\n            <button className=\"btn\" onClick={swapOD}>Swap Origin/Destination</button>\n          </div>\n\n          <LabelRow label=\"Modes\">\n            <div>\n              {['bus','train','ferry','walk','bike'].map(m => (\n                <label key={m} style={{marginRight:10}}>\n                  <input type=\"checkbox\" checked={modes.includes(m)} onChange={() => toggleMode(m)} /> {m}\n                </label>\n              ))}\n            </div>\n          </LabelRow>\n\n          <LabelRow label=\"Optimize for\">\n            <select value={optimize} onChange={e => setOptimize(e.target.value)}>\n              <option value=\"fastest\">Fastest</option>\n              <option value=\"fewest_transfers\">Fewest transfers</option>\n              <option value=\"least_walking\">Least walking</option>\n              <option value=\"reliable\">Most reliable</option>\n            </select>\n          </LabelRow>\n\n          <LabelRow label=\"Max walk (km)\">\n            <input type=\"range\" min=\"0\" max=\"3\" step=\"0.1\" value={maxWalkKm} onChange={e => setMaxWalkKm(e.target.value)} />\n            <span style={{marginLeft:8}}>{parseFloat(maxWalkKm).toFixed(1)}</span>\n          </LabelRow>\n\n          <LabelRow label=\"Accessibility\">\n            <label style={{marginRight:12}}><input type=\"checkbox\" checked={avoidStairs} onChange={e => setAvoidStairs(e.target.checked)} /> Avoid stairs</label>\n            <label><input type=\"checkbox\" checked={bikeOk} onChange={e => setBikeOk(e.target.checked)} /> Bike OK</label>\n          </LabelRow>\n\n          <LabelRow label=\"When\">\n            <div>\n              <label style={{marginRight:10}}><input type=\"radio\" name=\"when\" value=\"depart\" checked={whenType==='depart'} onChange={()=>setWhenType('depart')} /> Depart at</label>\n              <label><input type=\"radio\" name=\"when\" value=\"arrive\" checked={whenType==='arrive'} onChange={()=>setWhenType('arrive')} /> Arrive by</label>\n              <div style={{marginTop:6}}><input placeholder=\"now or 2025-11-03T09:00\" value={whenValue} onChange={e=>setWhenValue(e.target.value)} style={{width:'100%'}}/></div>\n            </div>\n          </LabelRow>\n\n          <div style={{textAlign:'right'}}>\n            <button className=\"btn btn-primary\" onClick={plan}>Find itineraries</button>\n          </div>\n        </div>\n\n        <div style={{display:'grid', gridTemplateRows:'auto auto 1fr', gap:16}}>\n          <div className=\"card\">\n            <div id=\"map\"></div>\n          </div>\n\n          {banner && <div className=\"card\">{banner}</div>}\n\n          <div className=\"card\">\n            <h3 style={{marginTop:0}}>Itineraries</h3>\n            {itins.length === 0 && <p style={{opacity:.8}}>Press <b>Find itineraries</b> to see options.</p>}\n            <ol>\n              {itins.map(it => (\n                <li key={it.id} style={{margin:'10px 0', padding:'8px 0', borderTop:'1px solid var(--line)'}}>\n                  <div style={{display:'flex', justifyContent:'space-between', alignItems:'center'}}>\n                    <div>\n                      <div><strong>~{it.durationMin} min</strong> • {it.transfers} transfers • <span title=\"Reliability score\">{Math.round((it.reliability||0)*100)}%</span></div>\n                      <div style={{opacity:.8}}>legs: {it.legs.join(' → ')}</div>\n                      <div style={{marginTop:6}}><Chip>{(it.walk_km ?? 0).toFixed(1)} km walk</Chip><Chip>{(it.modes||[]).join(', ')}</Chip></div>\n                    </div>\n                    <div>\n                      <button className=\"btn\" onClick={()=>exportPdf(it)}>Export PDF</button>\n                    </div>\n                  </div>\n                </li>\n              ))}\n            </ol>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"grid\" style={{marginTop:16}}>\n        <div className=\"card\">\n          <h3 style={{marginTop:0}}>Alerts & Safety</h3>\n          <ul>\n            {alerts.map((a,i)=>(<li key={i}><strong>{a.type||a.id}</strong>: {a.title||a.summary} {a.severity?`• ${a.severity}`:''}</li>))}\n          </ul>\n          <h4>Emergency Contacts</h4>\n          <ul>{contacts.map((c,i)=>(<li key={i}><strong>{c.name}</strong> — {c.phone}</li>))}</ul>\n        </div>\n\n        <div className=\"card\">\n          <h3 style={{marginTop:0}}>Reviews</h3>\n          <div style={{display:'grid', gridTemplateColumns:'1fr 120px 1fr auto', gap:8}}>\n            <input placeholder=\"Location\" value={reviewLoc} onChange={e=>setReviewLoc(e.target.value)} />\n            <input type=\"number\" min=\"1\" max=\"5\" value={reviewRating} onChange={e=>setReviewRating(e.target.value)} />\n            <input placeholder=\"Comment\" value={reviewComment} onChange={e=>setReviewComment(e.target.value)} />\n            <button className=\"btn\" onClick={submitReview}>Post</button>\n          </div>\n          <ul style={{marginTop:8}}>\n            {reviews.map((r,i)=>(<li key={i}><strong>{r.location}</strong> — {r.rating}/5 — {r.comment}</li>))}\n          </ul>\n        </div>\n\n        <div className=\"card\">\n          <h3 style={{marginTop:0}}>Travel Tools</h3>\n          <div style={{display:'grid', gridTemplateColumns:'1fr 1fr', gap:8}}>\n            <div>\n              <div style={{opacity:.8, marginBottom:6}}>Language</div>\n              <select value={lang} onChange={e=>setLang(e.target.value)}>\n                <option value=\"en\">English</option>\n                <option value=\"tl\">Tagalog</option>\n                <option value=\"zh\">中文</option>\n              </select>\n            </div>\n            <div>\n              <div style={{opacity:.8, marginBottom:6}}>Currency</div>\n              <select value={currency} onChange={e=>setCurrency(e.target.value)}>\n                <option value=\"NZD\">NZD</option>\n                <option value=\"USD\">USD</option>\n                <option value=\"EUR\">EUR</option>\n                <option value=\"PHP\">PHP</option>\n              </select>\n            </div>\n          </div>\n          <div style={{marginTop:8}}>\n            <div style={{opacity:.8, marginBottom:6}}>Currency Converter (demo rates)</div>\n            <div style={{display:'grid', gridTemplateColumns:'1fr auto 1fr', gap:8}}>\n              <input type=\"number\" value={nzd} onChange={e=>setNzd(e.target.value)} />\n              <div style={{alignSelf:'center'}}>NZD → {currency}</div>\n              <input value={converted} readOnly />\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}