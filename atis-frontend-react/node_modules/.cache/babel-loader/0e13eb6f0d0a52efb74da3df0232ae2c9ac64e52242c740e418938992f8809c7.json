{"ast":null,"code":"import _objectSpread from\"C:/Users/mdvec/OneDrive/Documents/YOOBEE-MSE/TERM2/MSE806 Intelligent Transportation Systems/ATIS/ATIS/atis-frontend-react/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{useEffect,useState}from'react';import{MapContainer,TileLayer,Marker,Popup,useMapEvents}from'react-leaflet';import'leaflet/dist/leaflet.css';import L from'leaflet';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const API='';// CRA proxy forwards to backend\n// Fix Leaflet default icon issue with webpack\ndelete L.Icon.Default.prototype._getIconUrl;L.Icon.Default.mergeOptions({iconRetinaUrl:'https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon-2x.png',iconUrl:'https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png',shadowUrl:'https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png'});const TRANSLATIONS={en:{name:'Advanced Traveler Information System',tagline:'Real-time, multimodal trip planning with intelligent route optimization.',translatorLabel:'Preferred language',offlineCta:'Save offline snapshot',shareLocation:'Share Location',copyCoords:'Copy Coordinates',locationCopied:'Location copied!',tripPlanning:'Trip planning & dynamic routing',realTimeSnapshot:'Real-time snapshot',weatherNow:'Weather now',alertsIncidents:'Alerts & incidents',noAlerts:'No active alerts right now.',findItineraries:'Find itineraries',exportPdf:'Export PDF',suggestAlt:'Suggest alternative',emergencyContacts:'Emergency Contacts'},es:{name:'Información de Viaje Avanzada',tagline:'Planificación de viajes multimodal con datos en tiempo real.',translatorLabel:'Idioma preferido',offlineCta:'Guardar información sin conexión',shareLocation:'Compartir Ubicación',copyCoords:'Copiar Coordenadas',locationCopied:'¡Ubicación copiada!',tripPlanning:'Planificación y enrutamiento dinámico',realTimeSnapshot:'Instantánea en tiempo real',weatherNow:'Clima ahora',alertsIncidents:'Alertas e incidentes',noAlerts:'No hay alertas activas ahora.',findItineraries:'Buscar itinerarios',exportPdf:'Exportar PDF',suggestAlt:'Sugerir alternativa',emergencyContacts:'Contactos de Emergencia'},tl:{name:'Advanced na Impormasyon sa Paglalakbay',tagline:'Real-time na pagpaplano ng biyahe gamit ang matalinong mungkahi.',translatorLabel:'Gustong wika',offlineCta:'I-save ang offline na snapshot',shareLocation:'Ibahagi ang Lokasyon',copyCoords:'Kopyahin ang Coordinates',locationCopied:'Nakopya ang lokasyon!',tripPlanning:'Pagpaplano ng biyahe at dynamic na ruta',realTimeSnapshot:'Real-time na snapshot',weatherNow:'Panahon ngayon',alertsIncidents:'Mga alerto at insidente',noAlerts:'Walang aktibong alerto ngayon.',findItineraries:'Maghanap ng itinerary',exportPdf:'I-export ang PDF',suggestAlt:'Magmungkahi ng alternatibo',emergencyContacts:'Emergency na Contacts'},zh:{name:'高级旅行信息系统',tagline:'实时多模式行程规划与智能建议',translatorLabel:'首选语言',offlineCta:'保存离线快照',shareLocation:'分享位置',copyCoords:'复制坐标',locationCopied:'位置已复制！',tripPlanning:'行程规划与动态路线',realTimeSnapshot:'实时快照',weatherNow:'当前天气',alertsIncidents:'警报和事件',noAlerts:'目前没有活动警报',findItineraries:'查找行程',exportPdf:'导出PDF',suggestAlt:'建议替代方案',emergencyContacts:'紧急联系人'}};const CURRENCY_RATES={NZD:1,USD:0.59,EUR:0.55,AUD:0.91};function Chip(_ref){let{children}=_ref;return/*#__PURE__*/_jsx(\"span\",{className:\"chip\",style:{marginRight:6},children:children});}function FeatureCard(_ref2){let{title,description,children,icon}=_ref2;return/*#__PURE__*/_jsxs(\"section\",{className:\"card\",style:{marginBottom:32},children:[/*#__PURE__*/_jsx(\"div\",{style:{marginBottom:24},children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:16,marginBottom:10},children:[icon&&/*#__PURE__*/_jsx(\"div\",{style:{fontSize:42,filter:'drop-shadow(0 4px 8px rgba(0,0,0,0.2))'},children:icon}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:26,fontWeight:800,background:'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',WebkitBackgroundClip:'text',WebkitTextFillColor:'transparent',backgroundClip:'text',letterSpacing:'-0.5px'},children:title}),description&&/*#__PURE__*/_jsx(\"div\",{style:{color:'var(--muted)',fontSize:15,marginTop:6,lineHeight:1.6},children:description})]})]})}),/*#__PURE__*/_jsx(\"div\",{children:children})]});}function DraggableMarker(_ref3){let{position,setPosition,label}=_ref3;const[draggable,setDraggable]=useState(true);const eventHandlers={dragend(e){const marker=e.target;const pos=marker.getLatLng();setPosition([pos.lat,pos.lng]);}};return/*#__PURE__*/_jsx(Marker,{draggable:draggable,eventHandlers:eventHandlers,position:position,children:/*#__PURE__*/_jsx(Popup,{minWidth:90,children:/*#__PURE__*/_jsxs(\"span\",{onClick:()=>setDraggable(d=>!d),children:[label,/*#__PURE__*/_jsx(\"br\",{}),draggable?'Draggable':'Click to make draggable']})})});}function MapClickHandler(_ref4){let{onMapClick}=_ref4;useMapEvents({click(e){if(onMapClick){onMapClick([e.latlng.lat,e.latlng.lng]);}}});return null;}function InteractiveMap(_ref5){let{origin,setOrigin,dest,setDest,stops}=_ref5;const center=origin;return/*#__PURE__*/_jsxs(MapContainer,{center:center,zoom:13,style:{height:'100%',width:'100%',borderRadius:12},children:[/*#__PURE__*/_jsx(TileLayer,{attribution:\"\\xA9 <a href=\\\"https://www.openstreetmap.org/copyright\\\">OpenStreetMap</a>\",url:\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"}),/*#__PURE__*/_jsx(DraggableMarker,{position:origin,setPosition:setOrigin,label:\"Origin (drag me)\"}),/*#__PURE__*/_jsx(Marker,{position:dest,children:/*#__PURE__*/_jsx(Popup,{children:\"Destination\"})}),stops.slice(0,10).map(stop=>/*#__PURE__*/_jsx(Marker,{position:[stop.lat,stop.lng],icon:new L.Icon({iconUrl:'https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-blue.png',shadowUrl:'https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png',iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]}),children:/*#__PURE__*/_jsxs(Popup,{children:[/*#__PURE__*/_jsx(\"strong\",{children:stop.name}),/*#__PURE__*/_jsx(\"br\",{}),stop.distance_m,\"m away\"]})},stop.stop_id)),/*#__PURE__*/_jsx(MapClickHandler,{onMapClick:setDest})]});}function AuthPanel(_ref6){let{token,setToken,username,setUsername}=_ref6;const[mode,setMode]=useState('login');const[user,setUser]=useState('');const[pass,setPass]=useState('');const[error,setError]=useState('');useEffect(()=>{const t=localStorage.getItem('atis_token');const u=localStorage.getItem('atis_user');if(t&&u){setToken(t);setUsername(u);}},[setToken,setUsername]);const submit=async()=>{setError('');try{const r=await fetch(\"\".concat(API,\"/auth/\").concat(mode),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({username:user,password:pass})});const d=await r.json();if(!r.ok)throw new Error(d.detail||'Auth failed');setToken(d.token);setUsername(d.username);localStorage.setItem('atis_token',d.token);localStorage.setItem('atis_user',d.username);setUser('');setPass('');}catch(e){setError(e.message);}};const logout=()=>{setToken(null);setUsername(null);localStorage.removeItem('atis_token');localStorage.removeItem('atis_user');};return/*#__PURE__*/_jsx(\"div\",{className:\"toolbar\",children:token?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"span\",{className:\"pill\",children:[\"Signed in as \",/*#__PURE__*/_jsx(\"b\",{children:username})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger\",onClick:logout,children:\"Logout\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"select\",{value:mode,onChange:e=>setMode(e.target.value),style:{width:130},children:[/*#__PURE__*/_jsx(\"option\",{value:\"login\",children:\"Login\"}),/*#__PURE__*/_jsx(\"option\",{value:\"register\",children:\"Register\"})]}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"Username\",value:user,onChange:e=>setUser(e.target.value),style:{width:140}}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"Password\",value:pass,onChange:e=>setPass(e.target.value),style:{width:140}}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:submit,children:mode.toUpperCase()}),error&&/*#__PURE__*/_jsx(\"span\",{style:{color:'var(--danger)'},children:error})]})});}export default function App(){const[token,setToken]=useState(null);const[username,setUsername]=useState(null);const[origin,setOrigin]=useState([-36.8485,174.7633]);const[dest,setDest]=useState([-36.8443,174.7676]);const[stops,setStops]=useState([]);const[itins,setItins]=useState([]);const[banner,setBanner]=useState('');const[selectedStop,setSelectedStop]=useState(null);const[departures,setDepartures]=useState([]);const[alerts,setAlerts]=useState([]);const[alts,setAlts]=useState({});const[modes,setModes]=useState(['bus','train','walk']);const[optimize,setOptimize]=useState('fastest');const[maxWalkKm,setMaxWalkKm]=useState(1.2);const[avoidStairs,setAvoidStairs]=useState(false);const[bikeOk,setBikeOk]=useState(false);const[whenType,setWhenType]=useState('depart');const[whenValue,setWhenValue]=useState('now');const[weather,setWeather]=useState(null);const[safetyContacts,setSafetyContacts]=useState([]);const[uiLang,setUiLang]=useState('en');const[currency,setCurrency]=useState('NZD');const[amount,setAmount]=useState(50);const text=TRANSLATIONS[uiLang]||TRANSLATIONS.en;const convertedAmount=Number((amount*(CURRENCY_RATES[currency]||1)).toFixed(2));const[reviews,setReviews]=useState([]);const[reviewLoc,setReviewLoc]=useState('');const[reviewRating,setReviewRating]=useState(5);const[reviewComment,setReviewComment]=useState('');// Load initial data once\nuseEffect(()=>{fetch(\"\".concat(API,\"/stops/nearby?lat=\").concat(origin[0],\"&lng=\").concat(origin[1],\"&radius=900\")).then(r=>r.json()).then(d=>setStops(d.stops||[])).catch(()=>{});fetch(\"\".concat(API,\"/alerts\")).then(r=>r.json()).then(d=>setAlerts([...(d.alerts||[]),...(d.traffic||[])])).catch(()=>{});fetch(\"\".concat(API,\"/weather/point?lat=\").concat(origin[0],\"&lng=\").concat(origin[1])).then(r=>r.json()).then(d=>setWeather(d.forecast||null)).catch(()=>{});fetch(\"\".concat(API,\"/safety/contacts\")).then(r=>r.json()).then(d=>setSafetyContacts(d.contacts||[])).catch(()=>{});fetch(\"\".concat(API,\"/reviews\")).then(r=>r.json()).then(d=>setReviews(d.reviews||[])).catch(()=>{});},[]);// Update when origin changes\nuseEffect(()=>{fetch(\"\".concat(API,\"/stops/nearby?lat=\").concat(origin[0],\"&lng=\").concat(origin[1],\"&radius=900\")).then(r=>r.json()).then(d=>setStops(d.stops||[])).catch(()=>{});fetch(\"\".concat(API,\"/weather/point?lat=\").concat(origin[0],\"&lng=\").concat(origin[1])).then(r=>r.json()).then(d=>setWeather(d.forecast||null)).catch(()=>{});},[origin]);const viewDepartures=async stop=>{setSelectedStop(stop);const r=await fetch(\"\".concat(API,\"/departures?stop_id=\").concat(stop.stop_id));const data=await r.json();setDepartures(data.departures||[]);};const plan=async()=>{var _d$context;const payload={origin,destination:dest,depart_at:whenType==='depart'?whenValue:'now',arrive_by:whenType==='arrive'?whenValue:null,optimize,max_walk_km:parseFloat(maxWalkKm),avoid_stairs:avoidStairs,bike_ok:bikeOk,modes};const r=await fetch(\"\".concat(API,\"/plan\"),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(payload)});const d=await r.json();setItins(d.itineraries||[]);setBanner(((_d$context=d.context)===null||_d$context===void 0?void 0:_d$context.weatherAlert)||'');setAlts({});};const exportPdf=async itinerary=>{const r=await fetch(\"\".concat(API,\"/export/itinerary\"),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({origin,destination:dest,itinerary})});const blob=await r.blob();const url=URL.createObjectURL(blob);const a=document.createElement('a');a.href=url;a.download='atis_trip.pdf';a.click();URL.revokeObjectURL(url);};const suggestAlt=async itinerary=>{const r=await fetch(\"\".concat(API,\"/routes/suggest\"),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({current_itinerary:itinerary,incidents:alerts})});const data=await r.json();setAlts(prev=>_objectSpread(_objectSpread({},prev),{},{[itinerary.id]:data.alternative}));};const authHeaders=()=>token?{'Authorization':\"Bearer \".concat(token)}:{};const savePrefs=async()=>{if(!token){alert('Please login to save preferences.');return;}const r=await fetch(\"\".concat(API,\"/prefs\"),{method:'POST',headers:_objectSpread({'Content-Type':'application/json'},authHeaders()),body:JSON.stringify({lang:'en',currency:'NZD',home:origin,work:dest})});alert(r.ok?'Preferences saved':'Failed to save');};const languageOptions=Object.keys(TRANSLATIONS);const currencyOptions=Object.keys(CURRENCY_RATES);const saveOfflinePack=()=>{const snapshot={saved:{origin,destination:dest,modes,optimize,maxWalkKm,avoidStairs,bikeOk},alerts,weather,stops,safetyContacts};localStorage.setItem('atis_offline_snapshot',JSON.stringify(snapshot));alert('Offline toolkit saved to this device.');};const updateSavedPlace=(key,coords)=>{const store=JSON.parse(localStorage.getItem('atisSavedPlaces')||'{}');store[key]=coords;localStorage.setItem('atisSavedPlaces',JSON.stringify(store));alert(\"\".concat(key.charAt(0).toUpperCase()+key.slice(1),\" saved\"));};const submitReview=async()=>{if(!token){alert('Please login to post a review.');return;}const r=await fetch(\"\".concat(API,\"/reviews\"),{method:'POST',headers:_objectSpread({'Content-Type':'application/json'},authHeaders()),body:JSON.stringify({location:reviewLoc,rating:Number(reviewRating),comment:reviewComment})});if(!r.ok){const t=await r.json();alert('Failed: '+(t.detail||r.status));}setReviewLoc('');setReviewRating(5);setReviewComment('');fetch(\"\".concat(API,\"/reviews\")).then(r=>r.json()).then(d=>setReviews(d.reviews||[])).catch(()=>{});};const toggleMode=m=>setModes(prev=>prev.includes(m)?prev.filter(x=>x!==m):[...prev,m]);const swapOD=()=>{const o=origin;setOrigin(dest);setDest(o);};const shareLocation=()=>{const coords=\"\".concat(origin[0].toFixed(5),\", \").concat(origin[1].toFixed(5));const url=\"https://www.google.com/maps?q=\".concat(origin[0],\",\").concat(origin[1]);navigator.clipboard.writeText(url).then(()=>{alert(\"\".concat(text.locationCopied,\"\\n\").concat(url));}).catch(()=>{alert(\"\".concat(text.shareLocation,\": \").concat(coords));});};return/*#__PURE__*/_jsx(\"div\",{style:{minHeight:'100vh',padding:'40px 24px 80px'},children:/*#__PURE__*/_jsxs(\"div\",{style:{maxWidth:1400,margin:'0 auto'},children:[/*#__PURE__*/_jsxs(\"header\",{style:{background:'var(--glass-bg)',backdropFilter:'blur(30px)',border:'1px solid var(--glass-border)',borderRadius:28,padding:'28px 40px',boxShadow:'var(--card-shadow)',marginBottom:48,display:'flex',flexWrap:'wrap',justifyContent:'space-between',alignItems:'center',gap:28,position:'relative',overflow:'hidden'},children:[/*#__PURE__*/_jsx(\"div\",{style:{position:'absolute',top:0,right:0,width:'400px',height:'400px',background:'radial-gradient(circle, rgba(59, 130, 246, 0.1) 0%, transparent 70%)',pointerEvents:'none'}}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:24,position:'relative',zIndex:1},children:[/*#__PURE__*/_jsx(\"div\",{className:\"logo\",children:\"A\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:32,fontWeight:900,background:'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',WebkitBackgroundClip:'text',WebkitTextFillColor:'transparent',backgroundClip:'text',letterSpacing:'-1px',lineHeight:1.2},children:text.name}),/*#__PURE__*/_jsx(\"div\",{style:{color:'var(--muted)',fontSize:15,marginTop:8,maxWidth:600,fontWeight:500},children:text.tagline})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:20,flexWrap:'wrap',position:'relative',zIndex:1},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:12,background:'var(--glass-bg)',backdropFilter:'blur(20px)',padding:'10px 20px',borderRadius:16,boxShadow:'0 4px 20px rgba(0,0,0,0.15)',border:'1px solid var(--glass-border)'},children:[/*#__PURE__*/_jsxs(\"span\",{style:{fontSize:14,fontWeight:600,color:'var(--muted)'},children:[\"\\uD83C\\uDF10 \",text.translatorLabel]}),/*#__PURE__*/_jsx(\"select\",{value:uiLang,onChange:e=>setUiLang(e.target.value),style:{padding:'8px 12px',fontSize:14,fontWeight:700},children:languageOptions.map(code=>/*#__PURE__*/_jsx(\"option\",{value:code,children:code.toUpperCase()},code))})]}),/*#__PURE__*/_jsx(AuthPanel,{token:token,setToken:setToken,username:username,setUsername:setUsername})]})]}),/*#__PURE__*/_jsxs(\"main\",{children:[/*#__PURE__*/_jsxs(FeatureCard,{icon:\"\\uD83D\\uDDFA\\uFE0F\",title:\"Interactive Map\",description:\"Drag origin marker, click map to set destination, view nearby stops\",children:[/*#__PURE__*/_jsx(\"div\",{style:{height:450,width:'100%',borderRadius:16,overflow:'hidden',boxShadow:'0 8px 24px rgba(0,0,0,0.12)'},children:/*#__PURE__*/_jsx(InteractiveMap,{origin:origin,setOrigin:setOrigin,dest:dest,setDest:setDest,stops:stops})}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:16,display:'flex',gap:10,flexWrap:'wrap'},children:[/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-primary\",onClick:shareLocation,children:[\"\\uD83D\\uDCCD \",text.shareLocation]}),/*#__PURE__*/_jsxs(\"button\",{className:\"btn\",onClick:()=>navigator.clipboard.writeText(\"\".concat(origin[0].toFixed(5),\", \").concat(origin[1].toFixed(5))).then(()=>alert(text.locationCopied)),children:[\"\\uD83D\\uDCCB \",text.copyCoords]})]})]}),/*#__PURE__*/_jsx(FeatureCard,{icon:\"\\u26A1\",title:text.realTimeSnapshot,description:\"Live traffic, weather and notifications so riders stay ahead.\",children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flexWrap:'wrap',gap:16},children:[/*#__PURE__*/_jsxs(\"div\",{style:{flex:'1 1 200px',minWidth:220},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:600,marginBottom:6},children:text.weatherNow}),weather?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:18,fontWeight:700},children:weather.condition}),/*#__PURE__*/_jsxs(\"div\",{style:{opacity:0.75},children:[\"Temp \",weather.tempC,\"\\xB0C \\u2022 Wind \",weather.windKph,\" km/h\"]})]}):/*#__PURE__*/_jsx(\"div\",{style:{opacity:0.65},children:\"Fetching latest forecast\\u2026\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{flex:'2 1 320px'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:600,marginBottom:6},children:text.alertsIncidents}),/*#__PURE__*/_jsxs(\"ul\",{style:{margin:0,paddingLeft:18},children:[alerts.slice(0,6).map((a,i)=>/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:a.type||a.id}),\": \",a.title||a.summary,\" \",a.severity?\"\\u2022 \".concat(a.severity):'']},i)),alerts.length===0&&/*#__PURE__*/_jsx(\"li\",{style:{opacity:0.7},children:text.noAlerts})]})]}),banner&&/*#__PURE__*/_jsxs(\"div\",{style:{flexBasis:'100%',background:'rgba(37,99,235,0.12)',padding:12,borderRadius:12},children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Notification:\"}),\" \",banner]})]})}),/*#__PURE__*/_jsx(FeatureCard,{icon:\"\\uD83E\\uDDED\",title:text.tripPlanning,description:\"Plan ahead, adapt on the fly, and export journeys for the road.\",children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gap:24,gridTemplateColumns:'minmax(260px, 1fr) minmax(320px, 1.35fr)'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flexDirection:'column',gap:12},children:[/*#__PURE__*/_jsxs(\"label\",{style:{display:'flex',flexDirection:'column',gap:4},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:12,opacity:0.75},children:\"Origin (lat,lng)\"}),/*#__PURE__*/_jsx(\"input\",{value:origin.join(','),onChange:e=>setOrigin(e.target.value.split(',').map(Number))})]}),/*#__PURE__*/_jsxs(\"label\",{style:{display:'flex',flexDirection:'column',gap:4},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:12,opacity:0.75},children:\"Destination (lat,lng)\"}),/*#__PURE__*/_jsx(\"input\",{value:dest.join(','),onChange:e=>setDest(e.target.value.split(',').map(Number))})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:8,flexWrap:'wrap'},children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn\",style:{flex:1},onClick:()=>setOrigin(dest),children:\"Use destination as origin\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn\",style:{flex:1},onClick:()=>setDest(origin),children:\"Use origin as destination\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn\",onClick:swapOD,children:\"Swap\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flexDirection:'column',gap:6},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:12,opacity:0.75},children:\"Preferred modes\"}),/*#__PURE__*/_jsx(\"div\",{children:['bus','train','ferry','walk','bike'].map(m=>/*#__PURE__*/_jsxs(\"label\",{style:{marginRight:10},children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:modes.includes(m),onChange:()=>toggleMode(m)}),\" \",m]},m))})]}),/*#__PURE__*/_jsxs(\"label\",{style:{display:'flex',flexDirection:'column',gap:4},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:12,opacity:0.75},children:\"Optimize for\"}),/*#__PURE__*/_jsxs(\"select\",{value:optimize,onChange:e=>setOptimize(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"fastest\",children:\"Fastest\"}),/*#__PURE__*/_jsx(\"option\",{value:\"fewest_transfers\",children:\"Fewest transfers\"}),/*#__PURE__*/_jsx(\"option\",{value:\"least_walking\",children:\"Least walking\"}),/*#__PURE__*/_jsx(\"option\",{value:\"reliable\",children:\"Most reliable\"})]})]}),/*#__PURE__*/_jsxs(\"label\",{style:{display:'flex',flexDirection:'column',gap:4},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:12,opacity:0.75},children:\"Max walking distance (km)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:\"0\",max:\"3\",step:\"0.1\",value:maxWalkKm,onChange:e=>setMaxWalkKm(e.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:12,flexWrap:'wrap'},children:[/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:avoidStairs,onChange:e=>setAvoidStairs(e.target.checked)}),\" Avoid stairs\"]}),/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:bikeOk,onChange:e=>setBikeOk(e.target.checked)}),\" Bike friendly\"]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flexDirection:'column',gap:6},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:12,opacity:0.75},children:\"When to travel\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:12},children:[/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"when\",value:\"depart\",checked:whenType==='depart',onChange:()=>setWhenType('depart')}),\" Depart at\"]}),/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"when\",value:\"arrive\",checked:whenType==='arrive',onChange:()=>setWhenType('arrive')}),\" Arrive by\"]})]}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"now or 2025-11-03T09:00\",value:whenValue,onChange:e=>setWhenValue(e.target.value)})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:plan,style:{alignSelf:'flex-start'},children:text.findItineraries})]}),/*#__PURE__*/_jsx(\"div\",{children:itins.length===0?/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center',padding:'40px 20px',background:'var(--glass-bg)',backdropFilter:'blur(10px)',borderRadius:16,border:'1px dashed var(--line)'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:48,marginBottom:12},children:\"\\uD83D\\uDE80\"}),/*#__PURE__*/_jsxs(\"p\",{style:{color:'var(--muted)',fontSize:15},children:[\"Press \",/*#__PURE__*/_jsx(\"b\",{style:{color:'var(--primary)'},children:\"Find itineraries\"}),\" to see recommended routes.\"]})]}):/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',flexDirection:'column',gap:16},children:itins.map((it,idx)=>{var _it$walk_km;return/*#__PURE__*/_jsxs(\"div\",{style:{background:'var(--glass-bg)',backdropFilter:'blur(10px)',border:'1px solid var(--glass-border)',borderRadius:16,padding:20,boxShadow:'0 4px 16px rgba(0,0,0,0.08)',transition:'all 0.3s ease',cursor:'pointer'},onMouseEnter:e=>e.currentTarget.style.transform='translateY(-4px)',onMouseLeave:e=>e.currentTarget.style.transform='translateY(0)',children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'flex-start',gap:16,flexWrap:'wrap'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{flex:1},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:10,marginBottom:10},children:[/*#__PURE__*/_jsx(\"span\",{style:{background:'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',color:'white',width:32,height:32,borderRadius:'50%',display:'grid',placeItems:'center',fontWeight:700,fontSize:14},children:idx+1}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:18,fontWeight:700},children:[\"~\",it.durationMin,\" min\"]}),/*#__PURE__*/_jsxs(\"div\",{style:{color:'var(--muted)',fontSize:14},children:[\"\\u2022 \",it.transfers,\" transfers\"]}),/*#__PURE__*/_jsxs(\"div\",{style:{background:it.reliability>0.85?'rgba(16, 185, 129, 0.15)':'rgba(251, 191, 36, 0.15)',color:it.reliability>0.85?'var(--success)':'#f59e0b',padding:'4px 10px',borderRadius:8,fontSize:12,fontWeight:600},children:[Math.round((it.reliability||0)*100),\"% reliable\"]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{color:'var(--muted)',fontSize:14,marginBottom:10},children:[\"\\uD83D\\uDEB6 \",it.legs.join(' → ')]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:8,flexWrap:'wrap'},children:[/*#__PURE__*/_jsxs(Chip,{children:[\"\\uD83D\\uDEB6 \",((_it$walk_km=it.walk_km)!==null&&_it$walk_km!==void 0?_it$walk_km:0).toFixed(1),\" km walk\"]}),/*#__PURE__*/_jsx(Chip,{children:(it.modes||[]).join(', ')})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:8,flexWrap:'wrap'},children:[/*#__PURE__*/_jsxs(\"button\",{className:\"btn\",onClick:()=>exportPdf(it),children:[\"\\uD83D\\uDCC4 \",text.exportPdf]}),/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-primary\",onClick:()=>suggestAlt(it),children:[\"\\uD83D\\uDD04 \",text.suggestAlt]})]})]}),alts[it.id]&&/*#__PURE__*/_jsxs(\"div\",{className:\"alt\",style:{marginTop:16},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:600,marginBottom:6},children:\"\\u2728 Alternative route available\"}),/*#__PURE__*/_jsxs(\"div\",{style:{color:'var(--muted)',fontSize:14},children:[\"~\",alts[it.id].durationMin||'—',\" min \\u2022 \",alts[it.id].transfers||0,\" transfers\"]}),alts[it.id].note&&/*#__PURE__*/_jsx(\"div\",{style:{color:'var(--muted)',fontSize:14,marginTop:4},children:alts[it.id].note}),alts[it.id].legs&&/*#__PURE__*/_jsxs(\"div\",{style:{color:'var(--muted)',fontSize:14},children:[\"\\uD83D\\uDEB6 \",alts[it.id].legs.join(' → ')]})]})]},it.id);})})})]})}),/*#__PURE__*/_jsx(FeatureCard,{icon:\"\\uD83D\\uDE8D\",title:\"Multimodal & nearby options\",description:\"Check nearby stops, live departures, and multimodal choices.\",children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flexDirection:'column',gap:18},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flexWrap:'wrap',gap:12},children:[stops.slice(0,6).map(s=>/*#__PURE__*/_jsxs(\"div\",{style:{padding:12,border:'1px solid var(--line,#e5e7eb)',borderRadius:12,background:'var(--card,#fff)',minWidth:180},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:700},children:s.name}),/*#__PURE__*/_jsxs(\"div\",{style:{opacity:0.7,fontSize:12},children:[s.distance_m,\" m away\"]}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:10},children:/*#__PURE__*/_jsx(\"button\",{className:\"btn\",onClick:()=>viewDepartures(s),children:\"Live departures\"})})]},s.stop_id)),stops.length===0&&/*#__PURE__*/_jsx(\"div\",{style:{opacity:0.7},children:\"Searching for nearby stops\\u2026\"})]}),selectedStop&&/*#__PURE__*/_jsxs(\"div\",{style:{border:'1px solid var(--line,#e5e7eb)',borderRadius:12,padding:16,background:'var(--card,#fff)'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{fontWeight:700,marginBottom:8},children:[\"Departures \\u2014 \",selectedStop.name]}),/*#__PURE__*/_jsxs(\"ul\",{style:{margin:0,paddingLeft:18},children:[departures.map((d,i)=>/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:d.route}),\" \\u2192 \",d.headsign,\" \",/*#__PURE__*/_jsxs(\"span\",{style:{opacity:0.65},children:[\"in \",d.departure_in_min,\" min\"]})]},i)),departures.length===0&&/*#__PURE__*/_jsx(\"li\",{style:{opacity:0.65},children:\"Loading departures\\u2026\"})]})]})]})}),/*#__PURE__*/_jsx(FeatureCard,{icon:\"\\uD83D\\uDEDF\",title:\"Personalization & safety\",description:\"Save favourites, keep data offline, and access emergency support.\",children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flexWrap:'wrap',gap:20},children:[/*#__PURE__*/_jsxs(\"div\",{style:{flex:'1 1 260px',display:'flex',flexDirection:'column',gap:10},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:600},children:\"Quick actions\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn\",onClick:()=>updateSavedPlace('home',origin),children:\"Save home\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn\",onClick:()=>updateSavedPlace('work',dest),children:\"Save work\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:savePrefs,children:\"Save to profile\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn\",onClick:saveOfflinePack,children:text.offlineCta}),token?/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:13,opacity:0.75},children:[\"Signed in as \",username,\". Preferences sync across devices.\"]}):/*#__PURE__*/_jsx(\"div\",{style:{fontSize:13,opacity:0.75},children:\"Create an account above to sync preferences and reviews.\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{flex:'1 1 260px'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{fontWeight:600,marginBottom:6},children:[\"\\uD83D\\uDEDF \",text.emergencyContacts]}),/*#__PURE__*/_jsxs(\"ul\",{style:{margin:0,paddingLeft:18},children:[safetyContacts.map((c,i)=>/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:c.name}),\" \\u2014 \",/*#__PURE__*/_jsx(\"a\",{href:\"tel:\".concat(c.phone),style:{color:'var(--danger)',fontWeight:700},children:c.phone})]},i)),safetyContacts.length===0&&/*#__PURE__*/_jsx(\"li\",{style:{opacity:0.7},children:\"Loading local contacts\\u2026\"})]}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:12},children:/*#__PURE__*/_jsx(\"button\",{className:\"btn\",onClick:shareLocation,children:text.shareLocation})})]}),/*#__PURE__*/_jsxs(\"div\",{style:{flex:'1 1 260px'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:600,marginBottom:6},children:\"Share status\"}),/*#__PURE__*/_jsxs(\"p\",{style:{opacity:0.75},children:[\"Tap \",/*#__PURE__*/_jsx(\"em\",{children:\"Save offline snapshot\"}),\" before you head out to keep routes, alerts, and emergency numbers handy \\u2014 even without coverage.\"]})]})]})}),/*#__PURE__*/_jsx(FeatureCard,{icon:\"\\uD83C\\uDF0D\",title:\"Travel toolkit\",description:\"International tools for language, money, and bookings.\",children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flexWrap:'wrap',gap:20},children:[/*#__PURE__*/_jsxs(\"div\",{style:{flex:'1 1 220px'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:600,marginBottom:6},children:\"In-app translator\"}),/*#__PURE__*/_jsxs(\"p\",{style:{opacity:0.75},children:[\"Interface now in \",/*#__PURE__*/_jsx(\"strong\",{children:uiLang.toUpperCase()}),\". Additional copy will respect this preference as the app grows.\"]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{flex:'1 1 260px',display:'flex',flexDirection:'column',gap:8},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:600},children:\"Currency helper\"}),/*#__PURE__*/_jsx(\"label\",{style:{fontSize:12,opacity:0.75},children:\"Amount in NZD\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:amount,min:\"0\",onChange:e=>setAmount(Number(e.target.value)||0)}),/*#__PURE__*/_jsx(\"label\",{style:{fontSize:12,opacity:0.75},children:\"Convert to\"}),/*#__PURE__*/_jsx(\"select\",{value:currency,onChange:e=>setCurrency(e.target.value),children:currencyOptions.map(code=>/*#__PURE__*/_jsx(\"option\",{value:code,children:code},code))}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:4,fontWeight:600},children:[\"\\u2248 \",convertedAmount,\" \",currency]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{flex:'1 1 260px'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:600,marginBottom:6},children:\"Bookings & payments\"}),/*#__PURE__*/_jsxs(\"ul\",{style:{margin:0,paddingLeft:18},children:[/*#__PURE__*/_jsx(\"li\",{children:\"Reserve transit passes and parking\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Bundle flights + hotels (coming soon)\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Secure wallet for ticketing integrations\"})]})]})]})}),/*#__PURE__*/_jsx(FeatureCard,{icon:\"\\u2B50\",title:\"Community insights\",description:\"Crowd-sourced tips keep travellers informed.\",children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flexWrap:'wrap',gap:20},children:[/*#__PURE__*/_jsxs(\"div\",{style:{flex:'1 1 260px',display:'flex',flexDirection:'column',gap:10},children:[/*#__PURE__*/_jsxs(\"label\",{style:{display:'flex',flexDirection:'column',gap:4},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:12,opacity:0.75},children:\"Location\"}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"e.g., Britomart\",value:reviewLoc,onChange:e=>setReviewLoc(e.target.value)})]}),/*#__PURE__*/_jsxs(\"label\",{style:{display:'flex',flexDirection:'column',gap:4},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:12,opacity:0.75},children:\"Rating\"}),/*#__PURE__*/_jsx(\"select\",{value:reviewRating,onChange:e=>setReviewRating(e.target.value),children:[5,4,3,2,1].map(n=>/*#__PURE__*/_jsx(\"option\",{value:n,children:n},n))})]}),/*#__PURE__*/_jsxs(\"label\",{style:{display:'flex',flexDirection:'column',gap:4},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:12,opacity:0.75},children:\"Comment\"}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"Short note\\u2026\",value:reviewComment,onChange:e=>setReviewComment(e.target.value)})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:submitReview,children:\"Share review\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{flex:'1 1 320px'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:600,marginBottom:8},children:\"Latest reviews\"}),/*#__PURE__*/_jsxs(\"ul\",{style:{margin:0,paddingLeft:18,display:'flex',flexDirection:'column',gap:8},children:[reviews.map((r,i)=>/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:r.location}),\" \\u2022 \",r.rating,\"/5 \\u2014 \",r.comment,\" \",/*#__PURE__*/_jsxs(\"span\",{style:{opacity:0.6},children:[\"by \",r.user]})]},i)),reviews.length===0&&/*#__PURE__*/_jsx(\"li\",{style:{opacity:0.7},children:\"Be the first to add a community update.\"})]})]})]})})]})]})});}","map":{"version":3,"names":["useEffect","useState","MapContainer","TileLayer","Marker","Popup","useMapEvents","L","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","API","Icon","Default","prototype","_getIconUrl","mergeOptions","iconRetinaUrl","iconUrl","shadowUrl","TRANSLATIONS","en","name","tagline","translatorLabel","offlineCta","shareLocation","copyCoords","locationCopied","tripPlanning","realTimeSnapshot","weatherNow","alertsIncidents","noAlerts","findItineraries","exportPdf","suggestAlt","emergencyContacts","es","tl","zh","CURRENCY_RATES","NZD","USD","EUR","AUD","Chip","_ref","children","className","style","marginRight","FeatureCard","_ref2","title","description","icon","marginBottom","display","alignItems","gap","fontSize","filter","fontWeight","background","WebkitBackgroundClip","WebkitTextFillColor","backgroundClip","letterSpacing","color","marginTop","lineHeight","DraggableMarker","_ref3","position","setPosition","label","draggable","setDraggable","eventHandlers","dragend","e","marker","target","pos","getLatLng","lat","lng","minWidth","onClick","d","MapClickHandler","_ref4","onMapClick","click","latlng","InteractiveMap","_ref5","origin","setOrigin","dest","setDest","stops","center","zoom","height","width","borderRadius","attribution","url","slice","map","stop","iconSize","iconAnchor","popupAnchor","shadowSize","distance_m","stop_id","AuthPanel","_ref6","token","setToken","username","setUsername","mode","setMode","user","setUser","pass","setPass","error","setError","t","localStorage","getItem","u","submit","r","fetch","concat","method","headers","body","JSON","stringify","password","json","ok","Error","detail","setItem","message","logout","removeItem","value","onChange","placeholder","type","toUpperCase","App","setStops","itins","setItins","banner","setBanner","selectedStop","setSelectedStop","departures","setDepartures","alerts","setAlerts","alts","setAlts","modes","setModes","optimize","setOptimize","maxWalkKm","setMaxWalkKm","avoidStairs","setAvoidStairs","bikeOk","setBikeOk","whenType","setWhenType","whenValue","setWhenValue","weather","setWeather","safetyContacts","setSafetyContacts","uiLang","setUiLang","currency","setCurrency","amount","setAmount","text","convertedAmount","Number","toFixed","reviews","setReviews","reviewLoc","setReviewLoc","reviewRating","setReviewRating","reviewComment","setReviewComment","then","catch","traffic","forecast","contacts","viewDepartures","data","plan","_d$context","payload","destination","depart_at","arrive_by","max_walk_km","parseFloat","avoid_stairs","bike_ok","itineraries","context","weatherAlert","itinerary","blob","URL","createObjectURL","a","document","createElement","href","download","revokeObjectURL","current_itinerary","incidents","prev","_objectSpread","id","alternative","authHeaders","savePrefs","alert","lang","home","work","languageOptions","Object","keys","currencyOptions","saveOfflinePack","snapshot","saved","updateSavedPlace","key","coords","store","parse","charAt","submitReview","location","rating","comment","status","toggleMode","m","includes","x","swapOD","o","navigator","clipboard","writeText","minHeight","padding","maxWidth","margin","backdropFilter","border","boxShadow","flexWrap","justifyContent","overflow","top","right","pointerEvents","zIndex","code","flex","condition","opacity","tempC","windKph","paddingLeft","i","summary","severity","length","flexBasis","gridTemplateColumns","flexDirection","join","split","checked","min","max","step","alignSelf","textAlign","it","idx","_it$walk_km","transition","cursor","onMouseEnter","currentTarget","transform","onMouseLeave","placeItems","durationMin","transfers","reliability","Math","round","legs","walk_km","note","s","route","headsign","departure_in_min","c","phone","n"],"sources":["C:/Users/mdvec/OneDrive/Documents/YOOBEE-MSE/TERM2/MSE806 Intelligent Transportation Systems/ATIS/ATIS/atis-frontend-react/src/App.js"],"sourcesContent":["import { useEffect, useState } from 'react'\nimport { MapContainer, TileLayer, Marker, Popup, useMapEvents } from 'react-leaflet'\nimport 'leaflet/dist/leaflet.css'\nimport L from 'leaflet'\n\nconst API = '' // CRA proxy forwards to backend\n\n// Fix Leaflet default icon issue with webpack\ndelete L.Icon.Default.prototype._getIconUrl\nL.Icon.Default.mergeOptions({\n  iconRetinaUrl: 'https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon-2x.png',\n  iconUrl: 'https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png',\n  shadowUrl: 'https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png',\n})\n\nconst TRANSLATIONS = {\n  en: {\n    name: 'Advanced Traveler Information System',\n    tagline: 'Real-time, multimodal trip planning with intelligent route optimization.',\n    translatorLabel: 'Preferred language',\n    offlineCta: 'Save offline snapshot',\n    shareLocation: 'Share Location',\n    copyCoords: 'Copy Coordinates',\n    locationCopied: 'Location copied!',\n    tripPlanning: 'Trip planning & dynamic routing',\n    realTimeSnapshot: 'Real-time snapshot',\n    weatherNow: 'Weather now',\n    alertsIncidents: 'Alerts & incidents',\n    noAlerts: 'No active alerts right now.',\n    findItineraries: 'Find itineraries',\n    exportPdf: 'Export PDF',\n    suggestAlt: 'Suggest alternative',\n    emergencyContacts: 'Emergency Contacts'\n  },\n  es: {\n    name: 'Información de Viaje Avanzada',\n    tagline: 'Planificación de viajes multimodal con datos en tiempo real.',\n    translatorLabel: 'Idioma preferido',\n    offlineCta: 'Guardar información sin conexión',\n    shareLocation: 'Compartir Ubicación',\n    copyCoords: 'Copiar Coordenadas',\n    locationCopied: '¡Ubicación copiada!',\n    tripPlanning: 'Planificación y enrutamiento dinámico',\n    realTimeSnapshot: 'Instantánea en tiempo real',\n    weatherNow: 'Clima ahora',\n    alertsIncidents: 'Alertas e incidentes',\n    noAlerts: 'No hay alertas activas ahora.',\n    findItineraries: 'Buscar itinerarios',\n    exportPdf: 'Exportar PDF',\n    suggestAlt: 'Sugerir alternativa',\n    emergencyContacts: 'Contactos de Emergencia'\n  },\n  tl: {\n    name: 'Advanced na Impormasyon sa Paglalakbay',\n    tagline: 'Real-time na pagpaplano ng biyahe gamit ang matalinong mungkahi.',\n    translatorLabel: 'Gustong wika',\n    offlineCta: 'I-save ang offline na snapshot',\n    shareLocation: 'Ibahagi ang Lokasyon',\n    copyCoords: 'Kopyahin ang Coordinates',\n    locationCopied: 'Nakopya ang lokasyon!',\n    tripPlanning: 'Pagpaplano ng biyahe at dynamic na ruta',\n    realTimeSnapshot: 'Real-time na snapshot',\n    weatherNow: 'Panahon ngayon',\n    alertsIncidents: 'Mga alerto at insidente',\n    noAlerts: 'Walang aktibong alerto ngayon.',\n    findItineraries: 'Maghanap ng itinerary',\n    exportPdf: 'I-export ang PDF',\n    suggestAlt: 'Magmungkahi ng alternatibo',\n    emergencyContacts: 'Emergency na Contacts'\n  },\n  zh: {\n    name: '高级旅行信息系统',\n    tagline: '实时多模式行程规划与智能建议',\n    translatorLabel: '首选语言',\n    offlineCta: '保存离线快照',\n    shareLocation: '分享位置',\n    copyCoords: '复制坐标',\n    locationCopied: '位置已复制！',\n    tripPlanning: '行程规划与动态路线',\n    realTimeSnapshot: '实时快照',\n    weatherNow: '当前天气',\n    alertsIncidents: '警报和事件',\n    noAlerts: '目前没有活动警报',\n    findItineraries: '查找行程',\n    exportPdf: '导出PDF',\n    suggestAlt: '建议替代方案',\n    emergencyContacts: '紧急联系人'\n  }\n}\n\nconst CURRENCY_RATES = {\n  NZD: 1,\n  USD: 0.59,\n  EUR: 0.55,\n  AUD: 0.91\n}\n\nfunction Chip({children}){ return <span className=\"chip\" style={{marginRight:6}}>{children}</span> }\n\nfunction FeatureCard({title, description, children, icon}){\n  return (\n    <section className=\"card\" style={{marginBottom:32}}>\n      <div style={{marginBottom:24}}>\n        <div style={{display:'flex', alignItems:'center', gap:16, marginBottom:10}}>\n          {icon && <div style={{fontSize:42, filter:'drop-shadow(0 4px 8px rgba(0,0,0,0.2))'}}>{icon}</div>}\n          <div>\n            <div style={{fontSize:26, fontWeight:800, background:'linear-gradient(135deg, #667eea 0%, #764ba2 100%)', WebkitBackgroundClip:'text', WebkitTextFillColor:'transparent', backgroundClip:'text', letterSpacing:'-0.5px'}}>{title}</div>\n            {description && <div style={{color:'var(--muted)', fontSize:15, marginTop:6, lineHeight:1.6}}>{description}</div>}\n          </div>\n        </div>\n      </div>\n      <div>{children}</div>\n    </section>\n  )\n}\n\nfunction DraggableMarker({ position, setPosition, label }) {\n  const [draggable, setDraggable] = useState(true)\n  \n  const eventHandlers = {\n    dragend(e) {\n      const marker = e.target\n      const pos = marker.getLatLng()\n      setPosition([pos.lat, pos.lng])\n    },\n  }\n\n  return (\n    <Marker\n      draggable={draggable}\n      eventHandlers={eventHandlers}\n      position={position}\n    >\n      <Popup minWidth={90}>\n        <span onClick={() => setDraggable((d) => !d)}>\n          {label}<br/>\n          {draggable ? 'Draggable' : 'Click to make draggable'}\n        </span>\n      </Popup>\n    </Marker>\n  )\n}\n\nfunction MapClickHandler({ onMapClick }) {\n  useMapEvents({\n    click(e) {\n      if (onMapClick) {\n        onMapClick([e.latlng.lat, e.latlng.lng])\n      }\n    },\n  })\n  return null\n}\n\nfunction InteractiveMap({ origin, setOrigin, dest, setDest, stops }) {\n  const center = origin\n  \n  return (\n    <MapContainer center={center} zoom={13} style={{height: '100%', width: '100%', borderRadius: 12}}>\n      <TileLayer\n        attribution='&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a>'\n        url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n      />\n      <DraggableMarker position={origin} setPosition={setOrigin} label=\"Origin (drag me)\" />\n      <Marker position={dest}>\n        <Popup>Destination</Popup>\n      </Marker>\n      {stops.slice(0, 10).map((stop) => (\n        <Marker key={stop.stop_id} position={[stop.lat, stop.lng]} icon={new L.Icon({\n          iconUrl: 'https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-blue.png',\n          shadowUrl: 'https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png',\n          iconSize: [25, 41],\n          iconAnchor: [12, 41],\n          popupAnchor: [1, -34],\n          shadowSize: [41, 41]\n        })}>\n          <Popup><strong>{stop.name}</strong><br/>{stop.distance_m}m away</Popup>\n        </Marker>\n      ))}\n      <MapClickHandler onMapClick={setDest} />\n    </MapContainer>\n  )\n}\n\nfunction AuthPanel({token, setToken, username, setUsername}){\n  const [mode, setMode] = useState('login')\n  const [user, setUser] = useState('')\n  const [pass, setPass] = useState('')\n  const [error, setError] = useState('')\n\n  useEffect(()=>{\n    const t = localStorage.getItem('atis_token')\n    const u = localStorage.getItem('atis_user')\n    if (t && u){ setToken(t); setUsername(u) }\n  }, [setToken, setUsername])\n\n  const submit = async () => {\n    setError('')\n    try{\n      const r = await fetch(`${API}/auth/${mode}`, { method:'POST', headers:{'Content-Type':'application/json'}, body: JSON.stringify({username:user, password:pass}) })\n      const d = await r.json()\n      if (!r.ok) throw new Error(d.detail || 'Auth failed')\n      setToken(d.token); setUsername(d.username)\n      localStorage.setItem('atis_token', d.token); localStorage.setItem('atis_user', d.username)\n      setUser(''); setPass('')\n    }catch(e){ setError(e.message) }\n  }\n\n  const logout = () => { setToken(null); setUsername(null); localStorage.removeItem('atis_token'); localStorage.removeItem('atis_user') }\n\n  return (\n    <div className=\"toolbar\">\n      {token ? (<><span className=\"pill\">Signed in as <b>{username}</b></span><button className=\"btn btn-danger\" onClick={logout}>Logout</button></>) : (\n        <>\n          <select value={mode} onChange={e=>setMode(e.target.value)} style={{width:130}}>\n            <option value=\"login\">Login</option>\n            <option value=\"register\">Register</option>\n          </select>\n          <input placeholder=\"Username\" value={user} onChange={e=>setUser(e.target.value)} style={{width:140}} />\n          <input type=\"password\" placeholder=\"Password\" value={pass} onChange={e=>setPass(e.target.value)} style={{width:140}} />\n          <button className=\"btn btn-primary\" onClick={submit}>{mode.toUpperCase()}</button>\n          {error && <span style={{color:'var(--danger)'}}>{error}</span>}\n        </>\n      )}\n    </div>\n  )\n}\n\nexport default function App(){\n  const [token, setToken] = useState(null)\n  const [username, setUsername] = useState(null)\n\n  const [origin, setOrigin] = useState([-36.8485, 174.7633])\n  const [dest, setDest] = useState([-36.8443, 174.7676])\n  const [stops, setStops] = useState([])\n  const [itins, setItins] = useState([])\n  const [banner, setBanner] = useState('')\n  const [selectedStop, setSelectedStop] = useState(null)\n  const [departures, setDepartures] = useState([])\n  const [alerts, setAlerts] = useState([])\n  const [alts, setAlts] = useState({})\n\n  const [modes, setModes] = useState(['bus','train','walk'])\n  const [optimize, setOptimize] = useState('fastest')\n  const [maxWalkKm, setMaxWalkKm] = useState(1.2)\n  const [avoidStairs, setAvoidStairs] = useState(false)\n  const [bikeOk, setBikeOk] = useState(false)\n  const [whenType, setWhenType] = useState('depart')\n  const [whenValue, setWhenValue] = useState('now')\n\n  const [weather, setWeather] = useState(null)\n  const [safetyContacts, setSafetyContacts] = useState([])\n  const [uiLang, setUiLang] = useState('en')\n  const [currency, setCurrency] = useState('NZD')\n  const [amount, setAmount] = useState(50)\n\n  const text = TRANSLATIONS[uiLang] || TRANSLATIONS.en\n  const convertedAmount = Number((amount * (CURRENCY_RATES[currency] || 1)).toFixed(2))\n\n  const [reviews, setReviews] = useState([])\n  const [reviewLoc, setReviewLoc] = useState('')\n  const [reviewRating, setReviewRating] = useState(5)\n  const [reviewComment, setReviewComment] = useState('')\n\n  // Load initial data once\n  useEffect(() => {\n    fetch(`${API}/stops/nearby?lat=${origin[0]}&lng=${origin[1]}&radius=900`)\n      .then(r=>r.json()).then(d=>setStops(d.stops||[])).catch(()=>{})\n    fetch(`${API}/alerts`)\n      .then(r=>r.json()).then(d=> setAlerts([...(d.alerts||[]), ...(d.traffic||[])])).catch(()=>{})\n    fetch(`${API}/weather/point?lat=${origin[0]}&lng=${origin[1]}`)\n      .then(r=>r.json()).then(d=>setWeather(d.forecast||null)).catch(()=>{})\n    fetch(`${API}/safety/contacts`)\n      .then(r=>r.json()).then(d=>setSafetyContacts(d.contacts||[])).catch(()=>{})\n    fetch(`${API}/reviews`)\n      .then(r=>r.json()).then(d=>setReviews(d.reviews||[])).catch(()=>{})\n  }, [])\n\n  // Update when origin changes\n  useEffect(() => {\n    fetch(`${API}/stops/nearby?lat=${origin[0]}&lng=${origin[1]}&radius=900`)\n      .then(r=>r.json()).then(d=>setStops(d.stops||[])).catch(()=>{})\n    fetch(`${API}/weather/point?lat=${origin[0]}&lng=${origin[1]}`)\n      .then(r=>r.json()).then(d=>setWeather(d.forecast||null)).catch(()=>{})\n  }, [origin])\n\n  const viewDepartures = async (stop) => {\n    setSelectedStop(stop)\n    const r = await fetch(`${API}/departures?stop_id=${stop.stop_id}`)\n    const data = await r.json()\n    setDepartures(data.departures || [])\n  }\n\n  const plan = async () => {\n    const payload = {\n      origin, destination: dest,\n      depart_at: whenType === 'depart' ? whenValue : 'now',\n      arrive_by: whenType === 'arrive' ? whenValue : null,\n      optimize, max_walk_km: parseFloat(maxWalkKm),\n      avoid_stairs: avoidStairs, bike_ok: bikeOk, modes,\n    }\n    const r = await fetch(`${API}/plan`, { method:'POST', headers:{'Content-Type':'application/json'}, body: JSON.stringify(payload) })\n    const d = await r.json()\n    setItins(d.itineraries || [])\n    setBanner(d.context?.weatherAlert || '')\n    setAlts({})\n  }\n\n  const exportPdf = async (itinerary) => {\n    const r = await fetch(`${API}/export/itinerary`,{ method:'POST', headers:{'Content-Type':'application/json'}, body: JSON.stringify({ origin, destination: dest, itinerary }) })\n    const blob = await r.blob()\n    const url = URL.createObjectURL(blob)\n    const a = document.createElement('a'); a.href = url; a.download = 'atis_trip.pdf'; a.click(); URL.revokeObjectURL(url)\n  }\n\n  const suggestAlt = async (itinerary) => {\n    const r = await fetch(`${API}/routes/suggest`, { method:'POST', headers:{'Content-Type':'application/json'}, body: JSON.stringify({ current_itinerary: itinerary, incidents: alerts }) })\n    const data = await r.json()\n    setAlts(prev => ({...prev, [itinerary.id]: data.alternative}))\n  }\n\n  const authHeaders = () => token ? {'Authorization': `Bearer ${token}`} : {}\n  \n  const savePrefs = async () => {\n    if (!token){ alert('Please login to save preferences.'); return }\n    const r = await fetch(`${API}/prefs`, { method:'POST', headers:{'Content-Type':'application/json', ...authHeaders()}, body: JSON.stringify({ lang:'en', currency:'NZD', home: origin, work: dest }) })\n    alert(r.ok?'Preferences saved':'Failed to save')\n  }\n\n  const languageOptions = Object.keys(TRANSLATIONS)\n  const currencyOptions = Object.keys(CURRENCY_RATES)\n  \n  const saveOfflinePack = () => {\n    const snapshot = { saved: { origin, destination: dest, modes, optimize, maxWalkKm, avoidStairs, bikeOk }, alerts, weather, stops, safetyContacts }\n    localStorage.setItem('atis_offline_snapshot', JSON.stringify(snapshot))\n    alert('Offline toolkit saved to this device.')\n  }\n\n  const updateSavedPlace = (key, coords) => {\n    const store = JSON.parse(localStorage.getItem('atisSavedPlaces') || '{}')\n    store[key] = coords\n    localStorage.setItem('atisSavedPlaces', JSON.stringify(store))\n    alert(`${key.charAt(0).toUpperCase() + key.slice(1)} saved`)\n  }\n\n  const submitReview = async ()=>{\n    if (!token){ alert('Please login to post a review.'); return }\n    const r = await fetch(`${API}/reviews`, {method:'POST', headers:{'Content-Type':'application/json', ...authHeaders()}, body: JSON.stringify({ location: reviewLoc, rating: Number(reviewRating), comment: reviewComment }) })\n    if (!r.ok){ const t = await r.json(); alert('Failed: '+(t.detail||r.status)) }\n    setReviewLoc(''); setReviewRating(5); setReviewComment('')\n    fetch(`${API}/reviews`).then(r=>r.json()).then(d=>setReviews(d.reviews||[])).catch(()=>{})\n  }\n\n  const toggleMode = (m) => setModes(prev => prev.includes(m) ? prev.filter(x => x!==m) : [...prev, m])\n  const swapOD = () => { const o = origin; setOrigin(dest); setDest(o) }\n  \n  const shareLocation = () => {\n    const coords = `${origin[0].toFixed(5)}, ${origin[1].toFixed(5)}`\n    const url = `https://www.google.com/maps?q=${origin[0]},${origin[1]}`\n    navigator.clipboard.writeText(url).then(() => {\n      alert(`${text.locationCopied}\\n${url}`)\n    }).catch(() => {\n      alert(`${text.shareLocation}: ${coords}`)\n    })\n  }\n\n  return (\n    <div style={{minHeight:'100vh', padding:'40px 24px 80px'}}>\n      <div style={{maxWidth:1400, margin:'0 auto'}}>\n        <header style={{background:'var(--glass-bg)', backdropFilter:'blur(30px)', border:'1px solid var(--glass-border)', borderRadius:28, padding:'28px 40px', boxShadow:'var(--card-shadow)', marginBottom:48, display:'flex', flexWrap:'wrap', justifyContent:'space-between', alignItems:'center', gap:28, position:'relative', overflow:'hidden'}}>\n          <div style={{position:'absolute', top:0, right:0, width:'400px', height:'400px', background:'radial-gradient(circle, rgba(59, 130, 246, 0.1) 0%, transparent 70%)', pointerEvents:'none'}}></div>\n          <div style={{display:'flex', alignItems:'center', gap:24, position:'relative', zIndex:1}}>\n            <div className=\"logo\">A</div>\n            <div>\n              <div style={{fontSize:32, fontWeight:900, background:'linear-gradient(135deg, #667eea 0%, #764ba2 100%)', WebkitBackgroundClip:'text', WebkitTextFillColor:'transparent', backgroundClip:'text', letterSpacing:'-1px', lineHeight:1.2}}>{text.name}</div>\n              <div style={{color:'var(--muted)', fontSize:15, marginTop:8, maxWidth:600, fontWeight:500}}>{text.tagline}</div>\n            </div>\n          </div>\n          <div style={{display:'flex', alignItems:'center', gap:20, flexWrap:'wrap', position:'relative', zIndex:1}}>\n            <div style={{display:'flex', alignItems:'center', gap:12, background:'var(--glass-bg)', backdropFilter:'blur(20px)', padding:'10px 20px', borderRadius:16, boxShadow:'0 4px 20px rgba(0,0,0,0.15)', border:'1px solid var(--glass-border)'}}>\n              <span style={{fontSize:14, fontWeight:600, color:'var(--muted)'}}>🌐 {text.translatorLabel}</span>\n              <select value={uiLang} onChange={e=>setUiLang(e.target.value)} style={{padding:'8px 12px', fontSize:14, fontWeight:700}}>\n                {languageOptions.map(code => <option key={code} value={code}>{code.toUpperCase()}</option>)}\n              </select>\n            </div>\n            <AuthPanel token={token} setToken={setToken} username={username} setUsername={setUsername} />\n          </div>\n        </header>\n\n        <main>\n          <FeatureCard icon=\"🗺️\" title=\"Interactive Map\" description=\"Drag origin marker, click map to set destination, view nearby stops\">\n            <div style={{height:450, width:'100%', borderRadius:16, overflow:'hidden', boxShadow:'0 8px 24px rgba(0,0,0,0.12)'}}>\n              <InteractiveMap origin={origin} setOrigin={setOrigin} dest={dest} setDest={setDest} stops={stops} />\n            </div>\n            <div style={{marginTop:16, display:'flex', gap:10, flexWrap:'wrap'}}>\n              <button className=\"btn btn-primary\" onClick={shareLocation}>📍 {text.shareLocation}</button>\n              <button className=\"btn\" onClick={() => navigator.clipboard.writeText(`${origin[0].toFixed(5)}, ${origin[1].toFixed(5)}`).then(() => alert(text.locationCopied))}>📋 {text.copyCoords}</button>\n            </div>\n          </FeatureCard>\n\n          <FeatureCard icon=\"⚡\" title={text.realTimeSnapshot} description=\"Live traffic, weather and notifications so riders stay ahead.\">\n            <div style={{display:'flex', flexWrap:'wrap', gap:16}}>\n              <div style={{flex:'1 1 200px', minWidth:220}}>\n                <div style={{fontWeight:600, marginBottom:6}}>{text.weatherNow}</div>\n                {weather ? (\n                  <div>\n                    <div style={{fontSize:18, fontWeight:700}}>{weather.condition}</div>\n                    <div style={{opacity:0.75}}>Temp {weather.tempC}°C • Wind {weather.windKph} km/h</div>\n                  </div>\n                ) : (\n                  <div style={{opacity:0.65}}>Fetching latest forecast…</div>\n                )}\n              </div>\n              <div style={{flex:'2 1 320px'}}>\n                <div style={{fontWeight:600, marginBottom:6}}>{text.alertsIncidents}</div>\n                <ul style={{margin:0, paddingLeft:18}}>\n                  {alerts.slice(0,6).map((a,i)=>(\n                    <li key={i}><strong>{a.type||a.id}</strong>: {a.title||a.summary} {a.severity?`• ${a.severity}`:''}</li>\n                  ))}\n                  {alerts.length===0 && <li style={{opacity:0.7}}>{text.noAlerts}</li>}\n                </ul>\n              </div>\n              {banner && (\n                <div style={{flexBasis:'100%', background:'rgba(37,99,235,0.12)', padding:12, borderRadius:12}}>\n                  <strong>Notification:</strong> {banner}\n                </div>\n              )}\n            </div>\n          </FeatureCard>\n\n          <FeatureCard icon=\"🧭\" title={text.tripPlanning} description=\"Plan ahead, adapt on the fly, and export journeys for the road.\">\n            <div style={{display:'grid', gap:24, gridTemplateColumns:'minmax(260px, 1fr) minmax(320px, 1.35fr)'}}>\n              <div style={{display:'flex', flexDirection:'column', gap:12}}>\n                <label style={{display:'flex', flexDirection:'column', gap:4}}>\n                  <span style={{fontSize:12, opacity:0.75}}>Origin (lat,lng)</span>\n                  <input value={origin.join(',')} onChange={e => setOrigin(e.target.value.split(',').map(Number))} />\n                </label>\n                <label style={{display:'flex', flexDirection:'column', gap:4}}>\n                  <span style={{fontSize:12, opacity:0.75}}>Destination (lat,lng)</span>\n                  <input value={dest.join(',')} onChange={e => setDest(e.target.value.split(',').map(Number))} />\n                </label>\n                <div style={{display:'flex', gap:8, flexWrap:'wrap'}}>\n                  <button className=\"btn\" style={{flex:1}} onClick={() => setOrigin(dest)}>Use destination as origin</button>\n                  <button className=\"btn\" style={{flex:1}} onClick={() => setDest(origin)}>Use origin as destination</button>\n                  <button className=\"btn\" onClick={swapOD}>Swap</button>\n                </div>\n                <div style={{display:'flex', flexDirection:'column', gap:6}}>\n                  <span style={{fontSize:12, opacity:0.75}}>Preferred modes</span>\n                  <div>\n                    {['bus','train','ferry','walk','bike'].map(m => (\n                      <label key={m} style={{marginRight:10}}>\n                        <input type=\"checkbox\" checked={modes.includes(m)} onChange={() => toggleMode(m)} /> {m}\n                      </label>\n                    ))}\n                  </div>\n                </div>\n                <label style={{display:'flex', flexDirection:'column', gap:4}}>\n                  <span style={{fontSize:12, opacity:0.75}}>Optimize for</span>\n                  <select value={optimize} onChange={e => setOptimize(e.target.value)}>\n                    <option value=\"fastest\">Fastest</option>\n                    <option value=\"fewest_transfers\">Fewest transfers</option>\n                    <option value=\"least_walking\">Least walking</option>\n                    <option value=\"reliable\">Most reliable</option>\n                  </select>\n                </label>\n                <label style={{display:'flex', flexDirection:'column', gap:4}}>\n                  <span style={{fontSize:12, opacity:0.75}}>Max walking distance (km)</span>\n                  <input type=\"number\" min=\"0\" max=\"3\" step=\"0.1\" value={maxWalkKm} onChange={e => setMaxWalkKm(e.target.value)} />\n                </label>\n                <div style={{display:'flex', gap:12, flexWrap:'wrap'}}>\n                  <label><input type=\"checkbox\" checked={avoidStairs} onChange={e => setAvoidStairs(e.target.checked)} /> Avoid stairs</label>\n                  <label><input type=\"checkbox\" checked={bikeOk} onChange={e => setBikeOk(e.target.checked)} /> Bike friendly</label>\n                </div>\n                <div style={{display:'flex', flexDirection:'column', gap:6}}>\n                  <span style={{fontSize:12, opacity:0.75}}>When to travel</span>\n                  <div style={{display:'flex', gap:12}}>\n                    <label><input type=\"radio\" name=\"when\" value=\"depart\" checked={whenType==='depart'} onChange={()=>setWhenType('depart')} /> Depart at</label>\n                    <label><input type=\"radio\" name=\"when\" value=\"arrive\" checked={whenType==='arrive'} onChange={()=>setWhenType('arrive')} /> Arrive by</label>\n                  </div>\n                  <input placeholder=\"now or 2025-11-03T09:00\" value={whenValue} onChange={e=>setWhenValue(e.target.value)} />\n                </div>\n                <button className=\"btn btn-primary\" onClick={plan} style={{alignSelf:'flex-start'}}>{text.findItineraries}</button>\n              </div>\n              <div>\n                {itins.length === 0 ? (\n                  <div style={{textAlign:'center', padding:'40px 20px', background:'var(--glass-bg)', backdropFilter:'blur(10px)', borderRadius:16, border:'1px dashed var(--line)'}}>\n                    <div style={{fontSize:48, marginBottom:12}}>🚀</div>\n                    <p style={{color:'var(--muted)', fontSize:15}}>Press <b style={{color:'var(--primary)'}}>Find itineraries</b> to see recommended routes.</p>\n                  </div>\n                ) : (\n                  <div style={{display:'flex', flexDirection:'column', gap:16}}>\n                    {itins.map((it, idx) => (\n                      <div key={it.id} style={{background:'var(--glass-bg)', backdropFilter:'blur(10px)', border:'1px solid var(--glass-border)', borderRadius:16, padding:20, boxShadow:'0 4px 16px rgba(0,0,0,0.08)', transition:'all 0.3s ease', cursor:'pointer'}} onMouseEnter={e => e.currentTarget.style.transform = 'translateY(-4px)'} onMouseLeave={e => e.currentTarget.style.transform = 'translateY(0)'}>\n                        <div style={{display:'flex', justifyContent:'space-between', alignItems:'flex-start', gap:16, flexWrap:'wrap'}}>\n                          <div style={{flex:1}}>\n                            <div style={{display:'flex', alignItems:'center', gap:10, marginBottom:10}}>\n                              <span style={{background:'linear-gradient(135deg, #667eea 0%, #764ba2 100%)', color:'white', width:32, height:32, borderRadius:'50%', display:'grid', placeItems:'center', fontWeight:700, fontSize:14}}>{idx + 1}</span>\n                              <div style={{fontSize:18, fontWeight:700}}>~{it.durationMin} min</div>\n                              <div style={{color:'var(--muted)', fontSize:14}}>• {it.transfers} transfers</div>\n                              <div style={{background:it.reliability > 0.85 ? 'rgba(16, 185, 129, 0.15)' : 'rgba(251, 191, 36, 0.15)', color:it.reliability > 0.85 ? 'var(--success)' : '#f59e0b', padding:'4px 10px', borderRadius:8, fontSize:12, fontWeight:600}}>{Math.round((it.reliability||0)*100)}% reliable</div>\n                            </div>\n                            <div style={{color:'var(--muted)', fontSize:14, marginBottom:10}}>🚶 {it.legs.join(' → ')}</div>\n                            <div style={{display:'flex', gap:8, flexWrap:'wrap'}}>\n                              <Chip>🚶 {(it.walk_km ?? 0).toFixed(1)} km walk</Chip>\n                              <Chip>{(it.modes||[]).join(', ')}</Chip>\n                            </div>\n                          </div>\n                          <div style={{display:'flex', gap:8, flexWrap:'wrap'}}>\n                            <button className=\"btn\" onClick={()=>exportPdf(it)}>📄 {text.exportPdf}</button>\n                            <button className=\"btn btn-primary\" onClick={()=>suggestAlt(it)}>🔄 {text.suggestAlt}</button>\n                          </div>\n                        </div>\n                        {alts[it.id] && (\n                          <div className=\"alt\" style={{marginTop:16}}>\n                            <div style={{fontWeight:600, marginBottom:6}}>✨ Alternative route available</div>\n                            <div style={{color:'var(--muted)', fontSize:14}}>~{alts[it.id].durationMin || '—'} min • {alts[it.id].transfers || 0} transfers</div>\n                            {alts[it.id].note && <div style={{color:'var(--muted)', fontSize:14, marginTop:4}}>{alts[it.id].note}</div>}\n                            {alts[it.id].legs && <div style={{color:'var(--muted)', fontSize:14}}>🚶 {alts[it.id].legs.join(' → ')}</div>}\n                          </div>\n                        )}\n                      </div>\n                    ))}\n                  </div>\n                )}\n              </div>\n            </div>\n          </FeatureCard>\n\n          <FeatureCard icon=\"🚍\" title=\"Multimodal & nearby options\" description=\"Check nearby stops, live departures, and multimodal choices.\">\n            <div style={{display:'flex', flexDirection:'column', gap:18}}>\n              <div style={{display:'flex', flexWrap:'wrap', gap:12}}>\n                {stops.slice(0,6).map(s => (\n                  <div key={s.stop_id} style={{padding:12, border:'1px solid var(--line,#e5e7eb)', borderRadius:12, background:'var(--card,#fff)', minWidth:180}}>\n                    <div style={{fontWeight:700}}>{s.name}</div>\n                    <div style={{opacity:0.7, fontSize:12}}>{s.distance_m} m away</div>\n                    <div style={{marginTop:10}}><button className=\"btn\" onClick={()=>viewDepartures(s)}>Live departures</button></div>\n                  </div>\n                ))}\n                {stops.length===0 && <div style={{opacity:0.7}}>Searching for nearby stops…</div>}\n              </div>\n              {selectedStop && (\n                <div style={{border:'1px solid var(--line,#e5e7eb)', borderRadius:12, padding:16, background:'var(--card,#fff)'}}>\n                  <div style={{fontWeight:700, marginBottom:8}}>Departures — {selectedStop.name}</div>\n                  <ul style={{margin:0, paddingLeft:18}}>\n                    {departures.map((d,i)=>(\n                      <li key={i}><strong>{d.route}</strong> → {d.headsign} <span style={{opacity:0.65}}>in {d.departure_in_min} min</span></li>\n                    ))}\n                    {departures.length===0 && <li style={{opacity:0.65}}>Loading departures…</li>}\n                  </ul>\n                </div>\n              )}\n            </div>\n          </FeatureCard>\n\n          <FeatureCard icon=\"🛟\" title=\"Personalization & safety\" description=\"Save favourites, keep data offline, and access emergency support.\">\n            <div style={{display:'flex', flexWrap:'wrap', gap:20}}>\n              <div style={{flex:'1 1 260px', display:'flex', flexDirection:'column', gap:10}}>\n                <div style={{fontWeight:600}}>Quick actions</div>\n                <button className=\"btn\" onClick={()=>updateSavedPlace('home', origin)}>Save home</button>\n                <button className=\"btn\" onClick={()=>updateSavedPlace('work', dest)}>Save work</button>\n                <button className=\"btn btn-primary\" onClick={savePrefs}>Save to profile</button>\n                <button className=\"btn\" onClick={saveOfflinePack}>{text.offlineCta}</button>\n                {token ? (\n                  <div style={{fontSize:13, opacity:0.75}}>Signed in as {username}. Preferences sync across devices.</div>\n                ) : (\n                  <div style={{fontSize:13, opacity:0.75}}>Create an account above to sync preferences and reviews.</div>\n                )}\n              </div>\n              <div style={{flex:'1 1 260px'}}>\n                <div style={{fontWeight:600, marginBottom:6}}>🛟 {text.emergencyContacts}</div>\n                <ul style={{margin:0, paddingLeft:18}}>\n                  {safetyContacts.map((c,i)=>(\n                    <li key={i}><strong>{c.name}</strong> — <a href={`tel:${c.phone}`} style={{color:'var(--danger)', fontWeight:700}}>{c.phone}</a></li>\n                  ))}\n                  {safetyContacts.length===0 && <li style={{opacity:0.7}}>Loading local contacts…</li>}\n                </ul>\n                <div style={{marginTop:12}}>\n                  <button className=\"btn\" onClick={shareLocation}>{text.shareLocation}</button>\n                </div>\n              </div>\n              <div style={{flex:'1 1 260px'}}>\n                <div style={{fontWeight:600, marginBottom:6}}>Share status</div>\n                <p style={{opacity:0.75}}>Tap <em>Save offline snapshot</em> before you head out to keep routes, alerts, and emergency numbers handy — even without coverage.</p>\n              </div>\n            </div>\n          </FeatureCard>\n\n          <FeatureCard icon=\"🌍\" title=\"Travel toolkit\" description=\"International tools for language, money, and bookings.\">\n            <div style={{display:'flex', flexWrap:'wrap', gap:20}}>\n              <div style={{flex:'1 1 220px'}}>\n                <div style={{fontWeight:600, marginBottom:6}}>In-app translator</div>\n                <p style={{opacity:0.75}}>Interface now in <strong>{uiLang.toUpperCase()}</strong>. Additional copy will respect this preference as the app grows.</p>\n              </div>\n              <div style={{flex:'1 1 260px', display:'flex', flexDirection:'column', gap:8}}>\n                <div style={{fontWeight:600}}>Currency helper</div>\n                <label style={{fontSize:12, opacity:0.75}}>Amount in NZD</label>\n                <input type=\"number\" value={amount} min=\"0\" onChange={e=>setAmount(Number(e.target.value) || 0)} />\n                <label style={{fontSize:12, opacity:0.75}}>Convert to</label>\n                <select value={currency} onChange={e=>setCurrency(e.target.value)}>\n                  {currencyOptions.map(code => <option key={code} value={code}>{code}</option>)}\n                </select>\n                <div style={{marginTop:4, fontWeight:600}}>≈ {convertedAmount} {currency}</div>\n              </div>\n              <div style={{flex:'1 1 260px'}}>\n                <div style={{fontWeight:600, marginBottom:6}}>Bookings & payments</div>\n                <ul style={{margin:0, paddingLeft:18}}>\n                  <li>Reserve transit passes and parking</li>\n                  <li>Bundle flights + hotels (coming soon)</li>\n                  <li>Secure wallet for ticketing integrations</li>\n                </ul>\n              </div>\n            </div>\n          </FeatureCard>\n\n          <FeatureCard icon=\"⭐\" title=\"Community insights\" description=\"Crowd-sourced tips keep travellers informed.\">\n            <div style={{display:'flex', flexWrap:'wrap', gap:20}}>\n              <div style={{flex:'1 1 260px', display:'flex', flexDirection:'column', gap:10}}>\n                <label style={{display:'flex', flexDirection:'column', gap:4}}>\n                  <span style={{fontSize:12, opacity:0.75}}>Location</span>\n                  <input placeholder=\"e.g., Britomart\" value={reviewLoc} onChange={e=>setReviewLoc(e.target.value)} />\n                </label>\n                <label style={{display:'flex', flexDirection:'column', gap:4}}>\n                  <span style={{fontSize:12, opacity:0.75}}>Rating</span>\n                  <select value={reviewRating} onChange={e=>setReviewRating(e.target.value)}>\n                    {[5,4,3,2,1].map(n=> <option key={n} value={n}>{n}</option>)}\n                  </select>\n                </label>\n                <label style={{display:'flex', flexDirection:'column', gap:4}}>\n                  <span style={{fontSize:12, opacity:0.75}}>Comment</span>\n                  <input placeholder=\"Short note…\" value={reviewComment} onChange={e=>setReviewComment(e.target.value)} />\n                </label>\n                <button className=\"btn btn-primary\" onClick={submitReview}>Share review</button>\n              </div>\n              <div style={{flex:'1 1 320px'}}>\n                <div style={{fontWeight:600, marginBottom:8}}>Latest reviews</div>\n                <ul style={{margin:0, paddingLeft:18, display:'flex', flexDirection:'column', gap:8}}>\n                  {reviews.map((r,i)=>(\n                    <li key={i}><strong>{r.location}</strong> • {r.rating}/5 — {r.comment} <span style={{opacity:0.6}}>by {r.user}</span></li>\n                  ))}\n                  {reviews.length===0 && <li style={{opacity:0.7}}>Be the first to add a community update.</li>}\n                </ul>\n              </div>\n            </div>\n          </FeatureCard>\n        </main>\n      </div>\n    </div>\n  )\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}